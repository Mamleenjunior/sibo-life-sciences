<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sibo Life Sciences - Advanced Healthcare Solutions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Global Styles */
        :root {
            --primary-color: #0066cc;
            --secondary-color: #004080;
            --accent-color: #ff6600;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --text-color: #333;
            --text-light: #777;
            --bg-color: #ffffff;
            --header-bg: #ffffffe8;
            --card-bg: #ffffff;
            --border-color: #e0e0e0;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }
       
        [data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #f5f5f5;
            --header-bg: #1e1e1e;
            --card-bg: #1e1e1e;
            --border-color: #333;
            --primary-color: #4a8eff;
            --accent-color: #ff7b4a;
            --light-color: #2a2a2a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            color: var(--text-color);
            line-height: 1.6;
            background-color: var(--bg-color);
            padding-bottom: 60px; /* Space for mobile nav */
        }
        
        a {
            text-decoration: none;
            color: var(--primary-color);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .btn {
            display: inline-block;
            background: var(--primary-color);
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }
        
        .btn-accent {
            background: var(--accent-color);
        }
        
        .btn-accent:hover {
            background: #e65c00;
        }

        .btn-success {
            background: var(--success-color);
        }

        .btn-warning {
            background: var(--warning-color);
            color: #000;
        }

        .btn-danger {
            background: var(--danger-color);
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            font-size: 2.2rem;
            color: var(--secondary-color);
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: var(--accent-color);
            margin: 15px auto;
        }
        
        /* Header Styles */
        header {
            background-color: var(--header-bg);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 15px 0;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 50px;
            margin-right: 10px;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .logo span {
            color: var(--accent-color);
        }
        
        /* Desktop Navigation */
        .desktop-nav ul {
            display: flex;
            list-style: none;
        }
        
        .desktop-nav ul li {
            margin-left: 30px;
        }
        
        .desktop-nav ul li a {
            color: var(--text-color);
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .desktop-nav ul li a:hover {
            color: var(--primary-color);
        }
        
        /* Mobile Menu Styles */
        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-color);
            z-index: 1001;
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            max-width: 300px;
            height: 100vh;
            background: var(--header-bg);
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            z-index: 1000;
            transition: left 0.3s ease;
            overflow-y: auto;
            padding-top: 80px;
        }

        .mobile-nav.show {
            left: 0;
        }

        .mobile-nav ul {
            list-style: none;
        }

        .mobile-nav ul li {
            border-bottom: 1px solid var(--border-color);
        }

        .mobile-nav ul li a {
            display: block;
            padding: 15px 20px;
            color: var(--text-color);
            font-weight: 500;
        }

        .mobile-nav ul li a:hover {
            background-color: var(--light-color);
        }

        .mobile-nav ul li a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-nav-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        /* Account Dropdown */
        .account-dropdown {
            position: relative;
            display: inline-block;
        }

        .account-btn {
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            font-weight: 500;
        }

        .account-btn i {
            margin-left: 5px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: var(--card-bg);
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 5px;
            padding: 10px 0;
        }

        .dropdown-content a {
            color: var(--text-color);
            padding: 10px 16px;
            text-decoration: none;
            display: block;
            font-size: 0.9rem;
        }

        .dropdown-content a:hover {
            background-color: var(--light-color);
        }

        .account-dropdown:hover .dropdown-content {
            display: block;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .mobile-menu {
                display: block;
            }

            .desktop-nav {
                display: none;
            }

            /* Adjust header for mobile */
            .header-container {
                padding: 10px 15px;
            }

            .logo h1 {
                font-size: 1.2rem;
            }

            .logo img {
                height: 40px;
            }

            /* Adjust account dropdown for mobile */
            .account-dropdown {
                margin-left: auto;
                margin-right: 15px;
            }

            .account-btn span {
                display: none;
            }

            .dropdown-content {
                right: -15px;
            }
        }

        @media (min-width: 769px) {
            .mobile-nav,
            .mobile-nav-overlay {
                display: none;
            }

            .desktop-nav {
                display: block;
            }
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1579684385127-1ef15d508118?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
            height: 100vh;
            display: flex;
            align-items: center;
            text-align: center;
            color: #fff;
            margin-top: 80px;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .hero-btns {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        /* Services Section */
        .services {
            padding: 80px 0;
            background-color: var(--card-bg);
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .service-card {
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .service-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }
        
        /* Products Section */
        .products {
            padding: 80px 0;
            background-color: var(--light-color);
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .product-card {
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
        }
        
        .product-img {
            height: 200px;
            overflow: hidden;
        }
        
        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .product-card:hover .product-img img {
            transform: scale(1.1);
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-info h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .product-info p {
            color: var(--text-light);
            margin-bottom: 15px;
        }
        
        .product-price {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        /* About Section */
        .about {
            padding: 80px 0;
            background-color: var(--card-bg);
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }
        
        .about-img {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .about-img img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .about-text h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
        }
        
        .about-text p {
            margin-bottom: 15px;
        }
        
        .about-features {
            margin-top: 30px;
        }
        
        .feature-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .feature-icon {
            color: var(--accent-color);
            font-size: 1.5rem;
            margin-right: 15px;
            margin-top: 5px;
        }
        
        /* Contact Section */
        .contact {
            padding: 80px 0;
            background-color: var(--light-color);
        }
        
        .contact-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 50px;
        }
        
        .contact-info h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
        }
        
        .contact-info p {
            margin-bottom: 30px;
        }
        
        .contact-details {
            margin-bottom: 30px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .contact-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }
        
        .contact-form .form-group {
            margin-bottom: 20px;
        }
        
        .contact-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .contact-form input,
        .contact-form textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .contact-form textarea {
            height: 150px;
            resize: vertical;
        }
        
        /* Enhanced Contact Links */
        .contact-link {
            display: block;
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.3s ease;
            margin-bottom: 5px;
        }
        
        .contact-link:hover {
            color: var(--primary-color);
        }
        
        .contact-status {
            display: inline-block;
            background-color: #ff4444;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 8px;
        }
        
        /* Login Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: var(--card-bg);
            margin: 10% auto;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 500px;
            animation: modalopen 0.5s;
        }
        
        @keyframes modalopen {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: #000;
        }
        
        .login-form h2 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary-color);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .remember-forgot {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .remember-me {
            display: flex;
            align-items: center;
        }
        
        .remember-me input {
            margin-right: 10px;
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            background: var(--primary-color);
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .login-btn:hover {
            background: var(--secondary-color);
        }
        
        .register-link {
            text-align: center;
            margin-top: 20px;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark-color);
            color: #fff;
            padding: 60px 0 20px;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-col h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-col h3:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background: var(--accent-color);
        }
        
        .footer-col p {
            margin-bottom: 15px;
        }
        
        .footer-links li {
            margin-bottom: 10px;
            list-style: none;
        }
        
        .footer-links a {
            color: #ddd;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: var(--accent-color);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: #fff;
        }
        
        /* WhatsApp Button */
        #whatsapp-button {
            position: fixed;
            top: 90px;
            left: 20px;
            z-index: 1000;
            background: #25D366;
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
        }
        
        #whatsapp-button:hover {
            transform: scale(1.1);
        }
        
        /* Cart Button */
        #cart-button {
            position: fixed;
            top: 90px;
            right: 20px;
            z-index: 1000;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
        }
        
        #cart-count {
            margin-left: 5px;
        }
        
        #cart-button:hover {
            transform: scale(1.1);
        }
        
        /* Product Card Styles */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .product-card {
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }

        .product-img {
            height: 220px;
            overflow: hidden;
        }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .product-card:hover .product-img img {
            transform: scale(1.05);
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            margin: 0 0 10px;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .product-desc {
            color: var(--text-light);
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-price {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .add-to-cart {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
            font-weight: 500;
        }

        .add-to-cart:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Cart Modal Styles */
        #cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        #cart-modal > div {
            background: var(--card-bg);
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            border-radius: 12px;
            padding: 25px;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        #cart-items {
            margin-bottom: 20px;
        }

        #cart-total {
            font-weight: bold;
            font-size: 1.3rem;
            color: var(--primary-color);
        }

        /* Payment Method Styles */
        .payment-option {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 8px;
            background: var(--light-color);
            cursor: pointer;
            transition: background 0.3s;
        }

        .payment-option:hover {
            background: var(--border-color);
        }

        .payment-form {
            margin-top: 15px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        /* Payment Processing Modal */
        #payment-processing {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 3000;
            justify-content: center;
            align-items: center;
        }

        #payment-processing > div {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .loader {
            border: 6px solid var(--border-color);
            border-top: 6px solid var(--primary-color);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 3000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            color: white;
            animation: slideIn 0.3s ease-out;
            font-weight: 500;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Mobile Bottom Navigation */
        .mobile-bottom-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--header-bg);
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 10px 0;
        }

        .mobile-bottom-nav ul {
            display: flex;
            justify-content: space-around;
            list-style: none;
        }

        .mobile-bottom-nav li {
            text-align: center;
        }

        .mobile-bottom-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--text-color);
            font-size: 0.8rem;
        }

        .mobile-bottom-nav i {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        /* Account Section Styles */
        .account-section {
            padding: 80px 0;
            background-color: var(--light-color);
            min-height: 100vh;
        }

        .account-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .account-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border-color);
        }

        .account-tab {
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-light);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .account-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .account-tab:hover {
            color: var(--primary-color);
        }

        .account-tab-content {
            display: none;
            background: var(--card-bg);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .account-tab-content.active {
            display: block;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            margin-right: 20px;
        }

        .profile-info h2 {
            margin-bottom: 5px;
            color: var(--primary-color);
        }

        .profile-info p {
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .verification-badge {
            display: inline-flex;
            align-items: center;
            background: var(--success-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-top: 5px;
        }

        .verification-badge i {
            margin-right: 5px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            background: var(--light-color);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }

        .info-card h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .info-card p {
            margin-bottom: 5px;
            color: var(--text-color);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .orders-list {
            margin-top: 20px;
        }

        .order-item {
            background: var(--light-color);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary-color);
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .order-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
        }

        .status-processing {
            background: #d1edff;
            color: var(--primary-color);
        }

        .danger-zone {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 25px;
            border-radius: 8px;
            margin-top: 30px;
        }

        .danger-zone h3 {
            color: #721c24;
            margin-bottom: 15px;
        }

        .danger-zone p {
            color: #721c24;
            margin-bottom: 20px;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .hero {
                height: auto;
                padding: 100px 0 60px;
                margin-top: 60px;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .hero-btns {
                flex-direction: column;
                gap: 10px;
            }
            
            .services-grid, 
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .about-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .contact-container {
                grid-template-columns: 1fr;
            }
            
            /* Show mobile bottom nav on mobile */
            .mobile-bottom-nav {
                display: block;
            }
            
            /* Mobile bottom nav with cart button */
            .mobile-bottom-nav ul {
                justify-content: space-around;
            }
            
            .mobile-bottom-nav li {
                flex: 1;
                text-align: center;
            }
            
            .mobile-bottom-nav a {
                display: flex;
                flex-direction: column;
                align-items: center;
                color: var(--text-color);
                font-size: 0.8rem;
            }
            
            .mobile-bottom-nav i {
                font-size: 1.2rem;
                margin-bottom: 5px;
            }
            
            /* Cart button in mobile nav */
            .mobile-bottom-nav .cart-nav-item {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            
            .mobile-bottom-nav .cart-nav-item .cart-count {
                position: absolute;
                top: -5px;
                right: 5px;
                background: var(--accent-color);
                color: white;
                border-radius: 50%;
                width: 18px;
                height: 18px;
                font-size: 0.7rem;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            /* Adjust floating buttons for mobile */
            #whatsapp-button, #cart-button {
                width: 55px;
                height: 55px;
                font-size: 1.5rem;
                top: 75px;
            }
            
            #whatsapp-button {
                left: 15px;
            }
            
            #cart-button {
                right: 15px;
            }

            /* Account section mobile */
            .account-tabs {
                flex-direction: column;
            }

            .account-tab {
                text-align: left;
                border-bottom: 1px solid var(--border-color);
            }

            .account-tab-content {
                padding: 20px;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-avatar {
                margin-right: 0;
                margin-bottom: 15px;
            }

            .form-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .modal-content {
                width: 90%;
                margin: 20% auto;
                padding: 20px;
            }
        }

        /* Header Styles */
        header {
            background-color: var(--header-bg);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 15px 0;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 50px;
            margin-right: 10px;
        }

        .logo h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .logo span {
            color: var(--accent-color);
        }

        /* Account Dropdown Styles */
        .account-dropdown {
            position: relative;
        }

        .account-btn {
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .account-btn:hover {
            background: rgba(0,0,0,0.05);
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: var(--card-bg);
            min-width: 180px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1001;
            border-radius: 8px;
            padding: 10px 0;
        }

        .dropdown-content a {
            color: var(--text-color);
            padding: 10px 16px;
            text-decoration: none;
            display: block;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .dropdown-content a:hover {
            background-color: var(--light-color);
        }

        .account-dropdown:hover .dropdown-content {
            display: block;
        }

        /* Desktop Navigation */
        .desktop-nav ul {
            display: flex;
            list-style: none;
        }

        .desktop-nav ul li {
            margin-left: 20px;
            position: relative;
        }

        .desktop-nav ul li a {
            color: var(--text-color);
            font-weight: 500;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
        }

        .desktop-nav ul li a i {
            margin-right: 8px;
        }

        .desktop-nav ul li a:hover {
            color: var(--primary-color);
        }

        /* Mobile Account Dropdown */
        .mobile-account {
            display: none;
        }

        /* Theme Toggle Button */
        .theme-btn {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .theme-btn:hover {
            background: rgba(0,0,0,0.05);
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .mobile-account {
                display: block;
                margin-left: auto;
                margin-right: 15px;
            }
            
            .desktop-nav {
                display: none;
            }
            
            .account-text {
                display: none;
            }
            
            .dropdown-content {
                right: 15px;
                top: 60px;
            }
            
            .logo img {
                height: 40px;
            }
            
            .logo h1 {
                font-size: 1.2rem;
            }
        }

        @media (min-width: 769px) {
            .mobile-account {
                display: none;
            }
            
            .desktop-nav {
                display: block;
            }
        }
        /* Mobile Account Dropdown */
        .mobile-account .dropdown-content {
            right: 15px;
            top: 60px;
        }

        @media (max-width: 768px) {
            .account-dropdown:hover .dropdown-content {
                display: none;
            }
            
            .mobile-account .dropdown-content.show {
                display: block;
            }
            
            .mobile-account .account-btn:focus + .dropdown-content,
            .mobile-account .dropdown-content:focus-within {
                display: block;
            }
        }
        /* Mobile Header Controls */
        .mobile-header-controls {
            display: flex;
            align-items: center;
            margin-left: auto;
        }

        @media (min-width: 769px) {
            .mobile-header-controls {
                display: none;
            }
        }
        .logo img {
            height: 50px; /* Default height for desktop */
            width: auto; /* Maintain aspect ratio */
            margin-right: 10px;
            object-fit: contain; /* Ensures the image fits properly */
        }

        @media (max-width: 768px) {
            .logo img {
                height: 40px; /* Slightly smaller for mobile */
            }
        }
        .logo img {
            height: 50px; /* Default height for desktop */
            width: auto; /* Maintain aspect ratio */
            max-width: 100%; /* Prevent overflow */
            object-fit: contain; /* Ensures proper scaling */
        }

        /* Adjust for mobile */
        @media (max-width: 768px) {
            .logo img {
                height: 40px; /* Smaller on mobile */
            }
        }
        .mobile-menu {
    display: none;
    font-size: 1.5rem;
    cursor: pointer;
    background: none;
    border: none;
    color: var(--text-color);
    z-index: 1001;
}

@media (max-width: 768px) {
    .mobile-menu {
        display: block;
    }
}

        /* Instagram-like Code Input Animation */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JL2V9K8J76"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-JL2V9K8J76');
    </script>
</head>
<body>
   <header>
    <div class="header-container">
       <div class="logo">
    <img src="https://i.ibb.co/RTTLR2rH/photo-2025-12-09-23-45-07.jpg" alt="Sibo Life Sciences Logo" class="logo">
    <h1>Sibo <span>Life Sciences</span></h1>
</div>
<button class="mobile-menu" id="mobile-menu-btn">
    <i class="fas fa-bars"></i>
</button>
     <div class="mobile-header-controls">
    <button id="mobile-theme-toggle" class="theme-btn">
        <i class="fas fa-moon"></i>
    </button>
    <div class="account-dropdown mobile-account">
        <button class="account-btn">
            <i class="fas fa-user"></i>
            <span class="account-text">Account</span>
        </button>
        <div class="dropdown-content">
            <a href="#" id="mobile-login-btn"><i class="fas fa-sign-in-alt"></i> Login</a>
            <a href="#" id="mobile-register-btn"><i class="fas fa-user-plus"></i> Register</a>
            <a href="#" id="mobile-account-btn" style="display: none;"><i class="fas fa-user-circle"></i> My Account</a>
            <a href="#" id="mobile-logout-btn" style="display: none;"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </div>
</div>

        <!-- Desktop Navigation -->
        <nav class="desktop-nav">
            <ul>
                <li><a href="#home"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="#services"><i class="fas fa-concierge-bell"></i> Services</a></li>
                <li><a href="#products"><i class="fas fa-shopping-bag"></i> Products</a></li>
                <li><a href="#about"><i class="fas fa-info-circle"></i> About</a></li>
                <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
                <li class="account-item">
                    <div class="account-dropdown desktop-account">
                        <button class="account-btn">
                            <i class="fas fa-user"></i> <span>Account</span> <i class="fas fa-caret-down"></i>
                        </button>
                        <div class="dropdown-content">
                            <a href="#" id="login-btn"><i class="fas fa-sign-in-alt"></i> Login</a>
                            <a href="#" id="register-btn"><i class="fas fa-user-plus"></i> Register</a>
                            <a href="#" id="account-btn" style="display: none;"><i class="fas fa-user-circle"></i> My Account</a>
                            <a href="#" id="logout-btn" style="display: none;"><i class="fas fa-sign-out-alt"></i> Logout</a>
                        </div>
                    </div>
                </li>
                <li>
                    <button id="theme-toggle" class="theme-btn">
                        <i class="fas fa-moon"></i>
                    </button>
                </li>
            </ul>
        </nav>
    </div>
</header>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/254704371652?text=Hello%20Sibo%20Life%20Sciences,%20I%20would%20like%20to%20inquire%20about%20your%20products" target="_blank" id="whatsapp-button">
        <i class="fab fa-whatsapp"></i>
    </a>

    <div class="mobile-nav-overlay" id="mobile-nav-overlay"></div>
    <nav class="mobile-nav" id="mobile-nav">
        <ul>
            <li><a href="#home"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="#services"><i class="fas fa-concierge-bell"></i> Services</a></li>
            <li><a href="#products"><i class="fas fa-shopping-bag"></i> Products</a></li>
            <li><a href="#about"><i class="fas fa-info-circle"></i> About</a></li>
            <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
            <li><a href="#" id="mobile-login-btn"><i class="fas fa-sign-in-alt"></i> Login</a></li>
            <li><a href="#" id="mobile-register-btn"><i class="fas fa-user-plus"></i> Register</a></li>
        </ul>
    </nav>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav">
        <ul>
            <li>
                <a href="#home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="#services">
                    <i class="fas fa-concierge-bell"></i>
                    <span>Services</span>
                </a>
            </li>
            <li>
                <a href="#products">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Products</span>
                </a>
            </li>
            <li>
                <a href="#about">
                    <i class="fas fa-info-circle"></i>
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="#contact">
                    <i class="fas fa-envelope"></i>
                    <span>Contact</span>
                </a>
            </li>
            <!-- Cart Button in Mobile Navigation -->
            <li class="cart-nav-item" style="position: relative;">
                <a href="#" id="mobile-cart-button">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Cart</span>
                    <span class="cart-count" id="mobile-cart-count">0</span>
                </a>
            </li>
        </ul>
    </nav>

 <!-- Hero Section -->
<section class="hero" id="home">
    <div class="hero-content">
        <h1 style="margin-bottom: 12px; font-size: 2rem;">Advanced Life Sciences Solutions for Healthcare</h1>
        <p class="hero-subtitle" style="margin-bottom: 15px; font-size: 1.2rem;">Sibo Life Sciences provides cutting-edge medical technologies, pharmaceuticals, and research tools to hospitals, clinics, and research institutions worldwide.</p>
        
        <!-- Professional SIBO Values Integration -->
        <div class="mission-statement" style="max-width: 800px; margin: 12px auto;">
            <div style="text-align: center; margin-bottom: 12px;">
                <h3 style="color: var(--accent-color); font-size: 1.1rem; margin-bottom: 4px;">Built on Our Core Values</h3>
                <p style="color: #ffffff; font-style: italic; font-size: 0.85rem;">Excellence in healthcare through commitment and innovation</p>
            </div>
            
            <div class="values-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 12px;">
                <div class="value-card" style="background: rgba(0,0,0,0.4); padding: 10px; border-radius: 6px; border-left: 2px solid var(--accent-color);">
                    <div style="display: flex; align-items: center; margin-bottom: 6px;">
                        <div style="background: var(--accent-color); color: white; width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.9rem; margin-right: 8px;">S</div>
                        <h4 style="color: white; margin: 0; font-size: 0.9rem;">Sustainability</h4>
                    </div>
                    <p style="color: #ffffff; font-size: 0.75rem; line-height: 1.2; margin: 0;">Committed to environmentally responsible practices and ensuring long-term viability in healthcare delivery.</p>
                </div>
                
                <div class="value-card" style="background: rgba(0,0,0,0.4); padding: 10px; border-radius: 6px; border-left: 2px solid var(--accent-color);">
                    <div style="display: flex; align-items: center; margin-bottom: 6px;">
                        <div style="background: var(--accent-color); color: white; width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.9rem; margin-right: 8px;">I</div>
                        <h4 style="color: white; margin: 0; font-size: 0.9rem;">Innovation</h4>
                    </div>
                    <p style="color: #ffffff; font-size: 0.75rem; line-height: 1.2; margin: 0;">Pioneering advanced medical technologies and research to transform patient care and treatment outcomes.</p>
                </div>
                
                <div class="value-card" style="background: rgba(0,0,0,0.4); padding: 10px; border-radius: 6px; border-left: 2px solid var(--accent-color);">
                    <div style="display: flex; align-items: center; margin-bottom: 6px;">
                        <div style="background: var(--accent-color); color: white; width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.9rem; margin-right: 8px;">B</div>
                        <h4 style="color: white; margin: 0; font-size: 0.9rem;">Business Integrity</h4>
                    </div>
                    <p style="color: #ffffff; font-size: 0.75rem; line-height: 1.2; margin: 0;">Upholding the highest ethical standards, transparency, and accountability in all healthcare partnerships.</p>
                </div>
                
                <div class="value-card" style="background: rgba(0,0,0,0.4); padding: 10px; border-radius: 6px; border-left: 2px solid var(--accent-color);">
                    <div style="display: flex; align-items: center; margin-bottom: 6px;">
                        <div style="background: var(--accent-color); color: white; width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.9rem; margin-right: 8px;">O</div>
                        <h4 style="color: white; margin: 0; font-size: 0.9rem;">Ownership</h4>
                    </div>
                    <p style="color: #ffffff; font-size: 0.75rem; line-height: 1.2; margin: 0;">Taking full responsibility for delivering exceptional healthcare solutions that make a meaningful impact.</p>
                </div>
            </div>
        </div>

        <div class="hero-btns" style="margin-top: 15px;">
            <a href="#products" class="btn" style="padding: 8px 20px; font-size: 0.9rem;">Explore Our Products</a>
            <a href="#contact" class="btn btn-accent" style="padding: 8px 20px; font-size: 0.9rem;">Partner With Us</a>
        </div>
    </div>
</section>

<style>
    /* Mobile responsiveness */
    @media (max-width: 768px) {
        .values-grid {
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 8px !important;
        }
        
        .hero-content h1 {
            font-size: 1.5rem !important;
            margin-bottom: 10px !important;
        }
        
        .hero-subtitle {
            font-size: 1rem !important;
            margin-bottom: 12px !important;
        }
        
        .mission-statement {
            margin: 10px auto !important;
        }
        
        .mission-statement h3 {
            font-size: 1rem !important;
        }
        
        .mission-statement p {
            font-size: 0.8rem !important;
        }
        
        .value-card {
            padding: 8px !important;
        }
        
        .value-card h4 {
            font-size: 0.85rem !important;
        }
        
        .value-card p {
            font-size: 0.7rem !important;
            line-height: 1.1 !important;
        }
        
        .hero-btns {
            margin-top: 12px !important;
            flex-direction: column;
            gap: 8px;
        }
        
        .hero-btns .btn {
            padding: 6px 16px !important;
            font-size: 0.85rem !important;
            width: 100%;
            text-align: center;
        }
    }
    
    @media (max-width: 480px) {
        .values-grid {
            grid-template-columns: 1fr !important;
            gap: 6px !important;
        }
        
        .hero-content h1 {
            font-size: 1.3rem !important;
        }
        
        .hero-subtitle {
            font-size: 0.9rem !important;
        }
    }
</style>
    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-shipping-fast"></i>
                    </div>
                    <h3>Fast Delivery</h3>
                    <p>Reliable and timely delivery of medical supplies to your facility with our dedicated logistics team.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3>24/7 Support</h3>
                    <p>Round-the-clock customer support to address your urgent medical supply needs anytime.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <h3>Quality Assurance</h3>
                    <p>All our products meet strict quality standards and regulatory requirements for medical devices.</p>
                </div>
            </div>
        </div>
    </section>

   <!-- Products Section -->
<section class="products" id="products">
    <div class="container">
        <!-- Cart Button -->
        <button id="cart-button">
             <span id="cart-count">0</span>
        </button>

        <h2 style="text-align: center; margin-bottom: 40px; color: var(--primary-color); font-size: 2rem;">
            Medical Essentials
        </h2>
        
        <!-- Products will be loaded here dynamically -->
        <div class="products-grid" id="products-container">
            <!-- Products loaded by JavaScript -->
            <div style="text-align: center; padding: 40px; color: var(--text-light);">
                <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 20px;"></i>
                <p>Loading products...</p>
            </div>
        </div>
    </div>
</section>>

 
    <!-- Account Section -->
    <section class="account-section" id="account" style="display: none;">
        <div class="container account-container">
            <h2 class="section-title">My Account</h2>
            
            <div class="account-tabs">
                <button class="account-tab active" data-tab="profile">Profile</button>
                <button class="account-tab" data-tab="orders">My Orders</button>
                <button class="account-tab" data-tab="settings">Settings</button>
                <button class="account-tab" data-tab="security">Security</button>
            </div>

            <!-- Profile Tab -->
            <div class="account-tab-content active" id="profile-tab">
                <div class="profile-header">
                    <div class="profile-avatar" id="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-info">
                        <h2 id="user-fullname">Loading...</h2>
                        <p id="user-email">Loading...</p>
                        <p id="user-phone">Loading...</p>
                        <div class="verification-badge" id="verification-status">
                            <i class="fas fa-check-circle"></i> Email Verified
                        </div>
                    </div>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h4><i class="fas fa-user-circle"></i> Personal Information</h4>
                        <p><strong>First Name:</strong> <span id="profile-firstname">Loading...</span></p>
                        <p><strong>Last Name:</strong> <span id="profile-lastname">Loading...</span></p>
                        <p><strong>Phone:</strong> <span id="profile-phone">Loading...</span></p>
                    </div>
                    <div class="info-card">
                        <h4><i class="fas fa-chart-line"></i> Account Statistics</h4>
                        <p><strong>Member Since:</strong> <span id="member-since">Loading...</span></p>
                        <p><strong>Last Login:</strong> <span id="last-login">Loading...</span></p>
                        <p><strong>Total Orders:</strong> <span id="total-orders-count">0</span></p>
                    </div>
                </div>

                <h3 style="margin-bottom: 20px; color: var(--primary-color);">Edit Profile</h3>
                <form id="profile-form">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div class="form-group">
                            <label for="edit-firstname">First Name</label>
                            <input type="text" id="edit-firstname" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-lastname">Last Name</label>
                            <input type="text" id="edit-lastname" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="edit-phone">Phone Number</label>
                        <input type="tel" id="edit-phone" placeholder="254712345678">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button type="button" class="btn btn-warning" onclick="resetProfileForm()">
                            <i class="fas fa-undo"></i> Reset
                        </button>
                    </div>
                </form>
            </div>

            <!-- Orders Tab -->
            <div class="account-tab-content" id="orders-tab">
                <h3 style="margin-bottom: 20px; color: var(--primary-color);">My Order History</h3>
                <div id="orders-list" class="orders-list">
                    <div class="loading">Loading orders...</div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="account-tab-content" id="settings-tab">
                <h3 style="margin-bottom: 20px; color: var(--primary-color);">Account Settings</h3>
                
                <div class="info-grid">
                    <div class="info-card">
                        <h4><i class="fas fa-bell"></i> Notifications</h4>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="email-notifications" checked>
                                <span style="margin-left: 10px;">Email Notifications</span>
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="sms-notifications">
                                <span style="margin-left: 10px;">SMS Notifications</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h4><i class="fas fa-language"></i> Preferences</h4>
                        <div class="form-group">
                            <label for="language-select">Language</label>
                            <select id="language-select" class="form-control">
                                <option value="en">English</option>
                                <option value="sw">Swahili</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="currency-select">Currency</label>
                            <select id="currency-select" class="form-control">
                                <option value="KES">Kenyan Shilling (KES)</option>
                                <option value="USD">US Dollar (USD)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn btn-success" onclick="saveSettings()">
                        <i class="fas fa-save"></i> Save Settings
                    </button>
                </div>
            </div>

            <!-- Security Tab -->
            <div class="account-tab-content" id="security-tab">
                <h3 style="margin-bottom: 20px; color: var(--primary-color);">Security Settings</h3>
                
                <div class="info-card" style="margin-bottom: 30px;">
                    <h4><i class="fas fa-key"></i> Change Password</h4>
                    <form id="change-password-form">
                        <div class="form-group">
                            <label for="current-password">Current Password</label>
                            <input type="password" id="current-password" required>
                        </div>
                        <div class="form-group">
                            <label for="new-password">New Password</label>
                            <input type="password" id="new-password" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-new-password">Confirm New Password</label>
                            <input type="password" id="confirm-new-password" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">
                                <i class="fas fa-key"></i> Change Password
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Danger Zone -->
                <div class="danger-zone">
                    <h3><i class="fas fa-exclamation-triangle"></i> Danger Zone</h3>
                    <p>Once you delete your account, there is no going back. Please be certain.</p>
                    <button class="btn btn-danger" onclick="showDeleteAccountModal()">
                        <i class="fas fa-trash"></i> Delete My Account
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Modal -->
    <div id="cart-modal">
        <div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color);">
                <h2 style="margin: 0; color: var(--primary-color); font-size: 1.5rem;">Your Shopping Cart</h2>
                <button id="close-cart" style="background: none; border: none; font-size: 1.8rem; cursor: pointer; color: var(--text-light); line-height: 1;"></button>
            </div>
            
            <div id="cart-items"></div>
            
            <div style="border-top: 1px solid var(--border-color); padding-top: 20px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 25px;">
                    <span style="font-weight: bold; font-size: 1.2rem;">Total:</span>
                    <span id="cart-total" style="font-weight: bold; font-size: 1.3rem; color: var(--primary-color);">KSh 0</span>
                </div>
                
                <h3 style="margin-bottom: 15px; font-size: 1.2rem;">Select Payment Method</h3>
                
                <div style="margin-bottom: 20px;">
                    <!-- M-Pesa Option -->
                    <div class="payment-option">
                        <input type="radio" id="mpesa" name="payment" value="mpesa" checked>
                        <label for="mpesa" style="display: flex; align-items: center; cursor: pointer; width: 100%;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/M-PESA_LOGO-01.svg/1200px-M-PESA_LOGO-01.svg.png" style="height: 25px; margin-right: 12px;" alt="M-Pesa">
                            <div>
                                <div style="font-weight: 500;">M-Pesa Mobile Money</div>
                                <div style="font-size: 0.85rem; color: var(--text-light);">You'll enter PIN on your phone</div>
                            </div>
                        </label>
                    </div>
                   <!-- M-Pesa Payment Form -->
<div id="mpesa-form" class="payment-form">
    <div style="margin-bottom: 20px; padding: 15px; background: #e8f4fd; border-radius: 8px; border-left: 4px solid var(--primary-color);">
        <h4 style="margin: 0 0 10px; color: var(--primary-color);">
            <i class="fas fa-info-circle"></i> M-Pesa Payment Instructions
        </h4>
        <p style="margin: 0; font-size: 0.9rem; color: #333;">
            1. Enter your M-Pesa number below<br>
            2. A payment request will be sent to your phone<br>
            3. Enter your M-Pesa PIN to complete payment
        </p>
    </div>
    
    <div class="form-group">
        <label for="paybill-number">Paybill Number</label>
        <input type="text" id="paybill-number" value="123456" readonly 
               style="background: #f5f5f5; font-weight: bold;">
        <p class="form-note">Sibo Life Sciences Paybill</p>
    </div>
    
    <div class="form-group">
        <label for="account-number">Account Number</label>
        <input type="text" id="account-number" placeholder="Your name or order ID" 
               value="SIBO-LIFE">
        <p class="form-note">For reference (usually your name)</p>
    </div>
    
    <div class="form-group">
        <label for="mpesa-phone">Your M-Pesa Number</label>
        <input type="tel" id="mpesa-phone" placeholder="254712345678" required>
        <p class="form-note">Safaricom M-Pesa registered number</p>
    </div>
    
    <div style="margin-top: 15px; padding: 10px; background: #fff3cd; border-radius: 6px; border: 1px solid #ffeaa7;">
        <p style="margin: 0; font-size: 0.85rem; color: #856404;">
            <i class="fas fa-exclamation-triangle"></i> 
            <strong>Note:</strong> Standard M-Pesa charges apply. You'll receive a confirmation SMS.
        </p>
    </div>
</div>
                    
                    <!-- Cash on Delivery Option -->
                    <div class="payment-option">
                        <input type="radio" id="cod" name="payment" value="cod">
                        <label for="cod" style="display: flex; align-items: center; cursor: pointer; width: 100%;">
                            <div style="width: 25px; height: 25px; background: var(--border-color); border-radius: 50%; margin-right: 12px; display: flex; align-items: center; justify-content: center;">
                                
                            </div>
                            <div>
                                <div style="font-weight: 500;">Cash on Delivery</div>
                                <div style="font-size: 0.85rem; color: var(--text-light);">Pay when you receive your order</div>
                            </div>
                        </label>
                    </div>
                    
                    <!-- Delivery Address for COD -->
                    <div id="cod-form" class="payment-form" style="display: none;">
                        <div class="form-group">
                            <label for="delivery-address">Delivery Address</label>
                            <input type="text" id="delivery-address" placeholder="Enter your full delivery address">
                            <p class="form-note">Please include landmarks for easier delivery</p>
                        </div>
                    </div>
                </div>
                
                <button id="checkout-btn" style="width: 100%; background: var(--primary-color); color: white; border: none; padding: 15px; border-radius: 8px; cursor: pointer; font-size: 1.1rem; font-weight: bold; transition: background 0.3s;">Complete Order</button>
            </div>
        </div>
    </div>

    <!-- Payment Processing Modal -->
    <div id="payment-processing">
        <div>
            <h3 style="margin-top: 0; color: var(--primary-color); font-size: 1.4rem;">Processing Your Order</h3>
            <div id="payment-status" style="margin: 25px 0;">
                <p style="color: var(--text-color); font-size: 1.1rem;">Processing payment...</p>
                <p style="font-size: 0.95rem; color: var(--text-light); margin-top: 10px;">Please wait while we process your request</p>
            </div>
            <div class="loader"></div>
            <button id="cancel-payment" style="margin-top: 30px; background: var(--light-color); color: var(--text-color); border: 1px solid var(--border-color); padding: 10px 25px; border-radius: 8px; cursor: pointer; font-weight: 500; transition: background 0.3s;">Cancel Order</button>
        </div>
    </div>

    <!-- Delete Account Confirmation Modal -->
    <div id="delete-account-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeDeleteAccountModal()">&times;</span>
            <h2 style="color: var(--danger-color); margin-bottom: 20px;">
                <i class="fas fa-exclamation-triangle"></i> Delete Account
            </h2>
            <div class="danger-zone" style="margin: 0;">
                <h3>Are you absolutely sure?</h3>
                <p>This action cannot be undone. This will permanently delete your account and remove all your data from our servers.</p>
                
                <div class="form-group">
                    <label for="confirm-delete-email">Please type your email to confirm:</label>
                    <input type="email" id="confirm-delete-email" placeholder="Enter your email">
                </div>
                
                <div class="form-group">
                    <label for="confirm-delete-password">Enter your password:</label>
                    <input type="password" id="confirm-delete-password" placeholder="Enter your password">
                </div>
                
                <div class="form-actions">
                    <button class="btn btn-danger" onclick="deleteAccount()" id="confirm-delete-btn">
                        <i class="fas fa-trash"></i> Yes, Delete My Account
                    </button>
                    <button class="btn btn-warning" onclick="closeDeleteAccountModal()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- About Section -->
<section class="about" id="about">
    <div class="container">
        <h2 class="section-title">About Sibo Life Science</h2>
        <div class="about-content">
            <div class="about-text">
                <h2>Your Trusted Partner in Medical Supplies</h2>
                <p>Sibo Life Science has been serving healthcare professionals since 2025, providing high-quality medical equipment and supplies to hospitals, clinics, and private practices.</p>
                <p>Our mission is to ensure that healthcare providers have access to reliable, affordable, and high-quality medical supplies to deliver the best possible care to their patients.</p>
                <div class="about-features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div>
                            <h3>Quality Products</h3>
                            <p>All our products meet strict quality standards and regulatory requirements.</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-award"></i>
                        </div>
                        <div>
                            <h3>Industry Experience</h3>
                            <p>Over 15 years of experience in medical supply distribution.</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div>
                            <h3>Customer Focus</h3>
                            <p>Dedicated account managers for personalized service.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="about-img">
                <img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Sibo Life Sciences Team">
            </div>
        </div>
        
        <!-- NEW: Mission & Vision Section -->
        <div class="mission-vision-section" style="margin-top: 80px; padding: 60px 40px; background: var(--light-color); border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);">
            <h2 class="section-title" style="color: var(--secondary-color);">Our Mission & Vision</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 50px; margin-top: 40px;">
                <!-- Mission Card -->
                <div class="mission-card" style="background: var(--card-bg); padding: 40px 30px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border-left: 6px solid var(--primary-color); transition: transform 0.3s ease;">
                    <div style="display: flex; align-items: center; margin-bottom: 25px;">
                        <div style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; margin-right: 20px; box-shadow: 0 4px 15px rgba(0,102,204,0.3);">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <h3 style="color: var(--secondary-color); margin: 0; font-size: 1.6rem; font-weight: 600;">Our Mission</h3>
                    </div>
                    <p style="color: var(--text-color); line-height: 1.8; font-size: 1.1rem; margin-bottom: 20px;">
                        To advance healthcare globally by providing innovative, high-quality medical solutions and technologies that improve patient outcomes, enhance clinical efficiency, and support research excellence.
                    </p>
                    <div style="padding: 15px; background: rgba(0,102,204,0.05); border-radius: 8px; border-left: 4px solid var(--primary-color); margin-top: 20px;">
                        <p style="color: var(--text-color); font-style: italic; margin: 0; font-size: 1rem;">
                            <i class="fas fa-quote-left" style="color: var(--primary-color); margin-right: 8px;"></i>
                            Empowering healthcare through innovation and excellence
                        </p>
                    </div>
                </div>
                
                <!-- Vision Card -->
                <div class="vision-card" style="background: var(--card-bg); padding: 40px 30px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border-left: 6px solid var(--accent-color); transition: transform 0.3s ease;">
                    <div style="display: flex; align-items: center; margin-bottom: 25px;">
                        <div style="background: linear-gradient(135deg, var(--accent-color), #e65c00); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; margin-right: 20px; box-shadow: 0 4px 15px rgba(255,102,0,0.3);">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h3 style="color: var(--secondary-color); margin: 0; font-size: 1.6rem; font-weight: 600;">Our Vision</h3>
                    </div>
                    <p style="color: var(--text-color); line-height: 1.8; font-size: 1.1rem; margin-bottom: 20px;">
                        To be Africa's leading and most trusted partner in life sciences and healthcare innovation, recognized for our commitment to excellence, integrity, and transformative impact on global health.
                    </p>
                    <div style="padding: 15px; background: rgba(255,102,0,0.05); border-radius: 8px; border-left: 4px solid var(--accent-color); margin-top: 20px;">
                        <p style="color: var(--text-color); font-style: italic; margin: 0; font-size: 1rem;">
                            <i class="fas fa-quote-left" style="color: var(--accent-color); margin-right: 8px;"></i>
                            Leading Africa's healthcare transformation
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- SIBO Values -->
            <div style="margin-top: 60px; text-align: center;">
                <h3 style="color: var(--secondary-color); margin-bottom: 40px; font-size: 1.8rem;">Our Core Values</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 25px;">
                    <div class="value-item" style="background: var(--card-bg); padding: 25px 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #2E7D32, #4CAF50); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; margin: 0 auto 20px;">S</div>
                        <h4 style="color: var(--primary-color); margin-bottom: 10px;">Sustainability</h4>
                        <p style="color: var(--text-light); font-size: 0.95rem; line-height: 1.5;">Committed to environmentally responsible practices and ensuring long-term viability in healthcare delivery.</p>
                    </div>
                    
                    <div class="value-item" style="background: var(--card-bg); padding: 25px 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #1565C0, #2196F3); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; margin: 0 auto 20px;">I</div>
                        <h4 style="color: var(--primary-color); margin-bottom: 10px;">Innovation</h4>
                        <p style="color: var(--text-light); font-size: 0.95rem; line-height: 1.5;">Pioneering advanced medical technologies and research to transform patient care and treatment outcomes.</p>
                    </div>
                    
                    <div class="value-item" style="background: var(--card-bg); padding: 25px 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #7B1FA2, #9C27B0); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; margin: 0 auto 20px;">B</div>
                        <h4 style="color: var(--primary-color); margin-bottom: 10px;">Business Integrity</h4>
                        <p style="color: var(--text-light); font-size: 0.95rem; line-height: 1.5;">Upholding the highest ethical standards, transparency, and accountability in all healthcare partnerships.</p>
                    </div>
                    
                    <div class="value-item" style="background: var(--card-bg); padding: 25px 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, var(--accent-color), #ff8533); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; margin: 0 auto 20px;">O</div>
                        <h4 style="color: var(--primary-color); margin-bottom: 10px;">Ownership</h4>
                        <p style="color: var(--text-light); font-size: 0.95rem; line-height: 1.5;">Taking full responsibility for delivering exceptional healthcare solutions that make a meaningful impact.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- END: Mission & Vision Section -->
    </div>
</section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            <div class="contact-container">
                <div class="contact-info">
                    <h3>Get In Touch</h3>
                    <p>Have questions about our products or services? Our team is ready to assist you with all your medical supply needs.</p>
                    <div class="contact-details">
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div>
                                <h4>Address</h4>
                                <p>Eldoret<br>P.O. Box 3355 -30100 <br>Kenya</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div>
                                <h4>Phone</h4>
                                <p>
                                    <a href="tel:+254743105060" class="contact-link">+254 743 105 060</a>
                                    <a href="tel:+254702499166" class="contact-link">+254 702 499 166</a>
                                </p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div>
                                <h4>Email</h4>
                                <p>
                                    <a href="mailto:sibolifescience@gmail.com?subject=Inquiry from Website&body=Hello Sibo Life Sciences," class="contact-link">
                                        sibolifescience@gmail.com
                                    </a>
                                    <a href="mailto:juniormamleen@gmail.com?subject=Inquiry from Website&body=Hello Sibo Life Sciences," class="contact-link">
                                        juniormamleen@gmail.com
                                    </a>
                                    <span class="contact-status">Always Open</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
               <div class="contact-form">
    <form id="contactForm">
        <div class="form-group">
            <label for="name">Your Name</label>
            <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="email">Your Email</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
            <label for="subject">Subject</label>
            <input type="text" id="subject" name="subject" required>
        </div>
        <div class="form-group">
            <label for="message">Your Message</label>
            <textarea id="message" name="message" required></textarea>
        </div>
        <button type="submit" class="btn">Send Message</button>
    </form>
    <div id="formResponse" style="margin-top: 15px;"></div>
</div>
                    
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            
            <!-- Login Form -->
            <div id="login-form-container">
                <h2>Login</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <div class="remember-forgot">
                        <div class="remember-me">
                            <input type="checkbox" id="remember">
                            <label for="remember">Remember me</label>
                        </div>
                        <a href="#" id="forgot-password">Forgot password?</a>
                    </div>
                    <button type="submit" class="login-btn">Login</button>
                    <p id="login-error" style="text-align: center; margin: 15px 0; color: red;"></p>
                    <div class="register-link">
                        <p>Don't have an account? <a href="#" id="show-register">Register here</a></p>
                    </div>
                </form>
            </div>
            
            <!-- Registration Form -->
            <div id="register-form-container" style="display: none;">
                <h2>Register</h2>
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-firstName">First Name</label>
                        <input type="text" id="register-firstName" required>
                    </div>
                    <div class="form-group">
                        <label for="register-lastName">Last Name</label>
                        <input type="text" id="register-lastName" required>
                    </div>
                    <div class="form-group">
                        <label for="register-phone">Phone Number</label>
                        <input type="tel" id="register-phone" placeholder="254712345678">
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password (min 6 characters)</label>
                        <input type="password" id="register-password" minlength="6" required>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" required>
                    </div>
                    <button type="submit" class="login-btn">Register</button>
                    <p id="register-error" style="text-align: center; margin: 15px 0; color: red;"></p>
                    <div class="register-link">
                        <p>Already have an account? <a href="#" id="show-login">Login here</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>About Us</h3>
                    <p>Sibo Life Sciences is a leader in biotech innovation, committed to advancing healthcare through research and technology.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Products</h3>
                    <ul class="footer-links">
                        <li><a href="#">Personal Protective Equipment</a></li>
                        <li><a href="#">Diagnostic Equipment</a></li>
                        <li><a href="#">Surgical Supplies</a></li>
                        <li><a href="#">First Aid Kits</a></li>
                        <li><a href="#">Hospital Furniture</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Info</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Kamukuywa, P.O. Box 123-50205, Kenya</p>
                    <p>
                        <i class="fas fa-phone-alt"></i> 
                        <a href="tel:+254743105060" style="color: #ddd;">+254 743 105 060</a>
                    </p>
                    <p>
                        <i class="fas fa-envelope"></i> 
                        <a href="mailto:sibolifescience@gmail.com?subject=Inquiry from Website&body=Hello Sibo Life Sciences," style="color: #ddd;">
                            sibolifescience@gmail.com
                        </a>
                        <span class="contact-status">Always Open</span>
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 sibo Life Sciences. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Email Verification Modal -->
    <div id="verification-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeVerificationModal()">&times;</span>
            <h2>Verify Your Email</h2>
            <p>We sent a 6-digit verification code to <strong id="verification-email"></strong></p>
            
            <form id="verification-form">
                <div class="form-group">
                    <label for="verification-code">Enter Verification Code</label>
                    <input type="text" id="verification-code" maxlength="6" required placeholder="123456">
                </div>
                
                <button type="submit" class="login-btn">Verify Email</button>
            </form>
            
            <div id="verification-error" style="color: red; text-align: center; margin: 10px 0;"></div>
            
            <div style="text-align: center; margin-top: 15px;">
                <p>Didn't receive the code? 
                    <a href="#" id="resend-code" onclick="resendVerificationCode()">Resend Code</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgot-password-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeForgotPasswordModal()">&times;</span>
            
            <!-- Step 1: Enter Email -->
            <div id="forgot-step1">
                <div style="text-align: center; margin-bottom: 25px;">
                    <i class="fas fa-lock" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 15px;"></i>
                    <h2>Trouble logging in?</h2>
                    <p style="color: var(--text-light);">Enter your email and we'll send you a code to reset your password.</p>
                </div>
                
                <form id="request-reset-form">
                    <div class="form-group">
                        <label for="reset-email">Email Address</label>
                        <input type="email" id="reset-email" placeholder="Enter your email" required 
                               style="padding: 15px; font-size: 1rem;">
                    </div>
                    <button type="submit" class="login-btn" style="padding: 15px; font-size: 1.1rem; font-weight: bold;">
                        Send Code
                    </button>
                </form>
                
                <div style="text-align: center; margin-top: 20px;">
                    <a href="#" onclick="showLoginForm()" style="color: var(--primary-color); font-weight: 500;">
                        <i class="fas fa-arrow-left"></i> Back to Login
                    </a>
                </div>
            </div>
            
            <!-- Step 2: Enter Code -->
            <div id="forgot-step2" style="display: none;">
                <div style="text-align: center; margin-bottom: 25px;">
                    <i class="fas fa-mobile-alt" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 15px;"></i>
                    <h2>Enter Verification Code</h2>
                    <p style="color: var(--text-light);">
                        We sent a 6-digit code to:<br>
                        <strong id="user-email-display" style="color: var(--text-color);"></strong>
                    </p>
                </div>
                
                <form id="verify-code-form">
                    <div class="form-group">
                        <label>Enter 6-digit code</label>
                        <div style="display: flex; gap: 10px; justify-content: center; margin: 15px 0;">
                            <input type="text" maxlength="1" class="code-input" data-index="0" 
                                   style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; font-weight: bold; border: 2px solid var(--border-color); border-radius: 8px;">
                            <input type="text" maxlength="1" class="code-input" data-index="1"
                                   style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; font-weight: bold; border: 2px solid var(--border-color); border-radius: 8px;">
                            <input type="text" maxlength="1" class="code-input" data-index="2"
                                   style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; font-weight: bold; border: 2px solid var(--border-color); border-radius: 8px;">
                            <input type="text" maxlength="1" class="code-input" data-index="3"
                                   style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; font-weight: bold; border: 2px solid var(--border-color); border-radius: 8px;">
                            <input type="text" maxlength="1" class="code-input" data-index="4"
                                   style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; font-weight: bold; border: 2px solid var(--border-color); border-radius: 8px;">
                            <input type="text" maxlength="1" class="code-input" data-index="5"
                                   style="width: 50px; height: 60px; text-align: center; font-size: 1.5rem; font-weight: bold; border: 2px solid var(--border-color); border-radius: 8px;">
                        </div>
                        <input type="hidden" id="verification-code" name="verification-code">
                    </div>
                    
                    <button type="submit" class="login-btn" style="padding: 15px; font-size: 1.1rem; font-weight: bold;">
                        Verify Code
                    </button>
                </form>
                
                <div style="text-align: center; margin-top: 20px;">
                    <p style="color: var(--text-light); margin-bottom: 10px;">
                        Didn't receive the code?
                    </p>
                    <a href="#" onclick="resendResetCode()" style="color: var(--primary-color); font-weight: 500; margin-right: 15px;">
                        Resend Code
                    </a>
                    <a href="#" onclick="showResetStep(1)" style="color: var(--text-light);">
                        Change Email
                    </a>
                </div>
            </div>
            
         <!-- Step 3: New Password -->
<div id="forgot-step3" style="display: none;">
    <div style="text-align: center; margin-bottom: 25px;">
        <i class="fas fa-key" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 15px;"></i>
        <h2>Create New Password</h2>
        <p style="color: var(--text-light);">Your new password must be different from previous used passwords.</p>
    </div>
    
    <form id="reset-password-form">
        <input type="hidden" id="reset-verification-code" name="verification-code">
        
        <div class="form-group">
            <label for="new-password-reset">New Password</label>
            <input type="password" id="new-password-reset" placeholder="Enter new password" required
                   style="padding: 15px; font-size: 1rem;">
        </div>
        
        <div class="form-group">
            <label for="confirm-password-reset">Confirm Password</label>
            <input type="password" id="confirm-password-reset" placeholder="Confirm new password" required
                   style="padding: 15px; font-size: 1rem;">
        </div>
        
        <button type="submit" class="login-btn" style="padding: 15px; font-size: 1.1rem; font-weight: bold; background: var(--success-color);">
            Reset Password
        </button>
    </form>
    
    <div id="reset-message" style="text-align: center; margin: 15px 0; padding: 12px; border-radius: 8px; display: none;"></div>
</div>
            <div id="reset-message" style="text-align: center; margin: 15px 0; padding: 12px; border-radius: 8px; display: none;"></div>
        </div>
    </div>

    <script>
        const API_BASE_URL = window.location.origin;

        // ==================== WORKING PASSWORD RESET SYSTEM ====================
        let resetEmail = '';
        let resetTimer = null;
        let timeLeft = 60;

        // Show forgot password modal
        function showForgotPasswordModal() {
            console.log('Opening password reset modal');
            document.getElementById('forgot-password-modal').style.display = 'block';
            document.getElementById('auth-modal').style.display = 'none';
            showResetStep(1);
            hideMessage();
            resetCodeInputs();
        }

        // Close forgot password modal
        function closeForgotPasswordModal() {
            document.getElementById('forgot-password-modal').style.display = 'none';
            document.getElementById('request-reset-form').reset();
            document.getElementById('reset-password-form').reset();
            hideMessage();
            resetCodeInputs();
            clearTimer();
        }

        // Show reset step
        function showResetStep(step) {
            document.getElementById('forgot-step1').style.display = step === 1 ? 'block' : 'none';
            document.getElementById('forgot-step2').style.display = step === 2 ? 'block' : 'none';
            document.getElementById('forgot-step3').style.display = step === 3 ? 'block' : 'none';
        }

        // Reset code inputs
        function resetCodeInputs() {
            document.querySelectorAll('.code-input').forEach(input => {
                input.value = '';
                input.style.borderColor = 'var(--border-color)';
            });
            document.getElementById('verification-code').value = '';
        }

        // Clear timer
        function clearTimer() {
            if (resetTimer) {
                clearInterval(resetTimer);
                resetTimer = null;
            }
        }

        // Start resend timer
        function startResendTimer() {
            timeLeft = 60;
            const resendBtn = document.querySelector('a[onclick="resendResetCode()"]');
            const originalText = resendBtn.textContent;
            
            clearTimer();
            
            resetTimer = setInterval(() => {
                if (timeLeft > 0) {
                    resendBtn.innerHTML = `Resend Code (${timeLeft}s)`;
                    resendBtn.style.pointerEvents = 'none';
                    resendBtn.style.color = 'var(--text-light)';
                    timeLeft--;
                } else {
                    clearTimer();
                    resendBtn.innerHTML = originalText;
                    resendBtn.style.pointerEvents = 'auto';
                    resendBtn.style.color = 'var(--primary-color)';
                }
            }, 1000);
        }

        // Show message
        function showMessage(message, type = 'info') {
            const messageDiv = document.getElementById('reset-message');
            messageDiv.textContent = message;
            messageDiv.style.display = 'block';
            
            const colors = {
                error: { bg: '#ffebee', text: '#c62828', border: '#ffcdd2' },
                success: { bg: '#e8f5e8', text: '#2e7d32', border: '#c8e6c9' },
                info: { bg: '#e3f2fd', text: '#1565c0', border: '#bbdefb' }
            };
            
            const color = colors[type] || colors.info;
            messageDiv.style.backgroundColor = color.bg;
            messageDiv.style.color = color.text;
            messageDiv.style.border = `1px solid ${color.border}`;
        }

        // Hide message
        function hideMessage() {
            document.getElementById('reset-message').style.display = 'none';
        }

        // Update hidden code field
        function updateHiddenCode() {
            const code = Array.from(document.querySelectorAll('.code-input'))
                .map(input => input.value)
                .join('');
            document.getElementById('verification-code').value = code;
            
            // Visual feedback
            document.querySelectorAll('.code-input').forEach(input => {
                input.style.borderColor = input.value ? 'var(--primary-color)' : 'var(--border-color)';
            });
        }

        // Request reset code
        document.getElementById('request-reset-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('reset-email').value;
            const submitBtn = e.target.querySelector('button');
            
            if (!email) {
                showMessage('Please enter your email address', 'error');
                return;
            }
            
            try {
                submitBtn.disabled = true;
                submitBtn.textContent = 'Sending...';
                showMessage('Sending verification code...', 'info');
                
                const response = await fetch('/api/forgot-password', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ email })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    resetEmail = email;
                    document.getElementById('user-email-display').textContent = email;
                    showResetStep(2);
                    showMessage('Verification code sent to your email!', 'success');
                    startResendTimer();
                    
                    // Auto-focus first code input
                    setTimeout(() => {
                        document.querySelector('.code-input[data-index="0"]').focus();
                    }, 300);
                    
                } else {
                    throw new Error(result.error || 'Failed to send code');
                }
                
            } catch (error) {
                showMessage('Error: ' + error.message, 'error');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Send Code';
            }
        });

        // Handle code input navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Code input navigation
            document.querySelectorAll('.code-input').forEach((input, index, inputs) => {
                input.addEventListener('input', (e) => {
                    const value = e.target.value;
                    
                    if (value && index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                    
                    updateHiddenCode();
                });
                
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace' && !e.target.value && index > 0) {
                        inputs[index - 1].focus();
                    }
                });
                
                input.addEventListener('paste', (e) => {
                    e.preventDefault();
                    const pasteData = e.clipboardData.getData('text').slice(0, 6);
                    pasteData.split('').forEach((char, charIndex) => {
                        if (inputs[charIndex]) {
                            inputs[charIndex].value = char;
                        }
                    });
                    updateHiddenCode();
                    if (inputs[pasteData.length] && pasteData.length < 6) {
                        inputs[pasteData.length].focus();
                    }
                });
            });
        });

        // Verify code
        document.getElementById('verify-code-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const code = document.getElementById('verification-code').value;
            const submitBtn = e.target.querySelector('button');
            
            if (!code || code.length !== 6) {
                showMessage('Please enter the complete 6-digit code', 'error');
                return;
            }
            
            try {
                submitBtn.disabled = true;
                submitBtn.textContent = 'Verifying...';
                showMessage('Verifying code...', 'info');
                
                const response = await fetch('/api/verify-reset-code', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ 
                        email: resetEmail, 
                        code: code
                    })
                });
                
                const result = await response.json();
                
              if (response.ok) {
    // Store the verification code for the reset step
    document.getElementById('reset-verification-code').value = code;
    showResetStep(3);
    showResetMessage('Code verified! Now create your new password.', 'success');
    clearTimer();
    
    // Auto-focus the new password field
    setTimeout(() => {
        document.getElementById('new-password-reset').focus();
    }, 300);
} else {
    throw new Error(result.error || 'Invalid verification code');
}
            } catch (error) {
                showMessage('Error: ' + error.message, 'error');
                
                // Shake animation for wrong code
                document.querySelectorAll('.code-input').forEach(input => {
                    input.style.animation = 'shake 0.5s';
                    setTimeout(() => input.style.animation = '', 500);
                });
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Verify Code';
            }
        });

 // Reset password - WORKING VERSION
document.getElementById('reset-password-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Get password values
    const newPassword = document.getElementById('new-password-reset').value;
    const confirmPassword = document.getElementById('confirm-password-reset').value;
    
    // Get message div
    const messageDiv = document.getElementById('reset-message');
    
    // Simple validation
    if (!newPassword) {
        showResetMessage('Please enter a new password', 'error');
        return;
    }

    if (!confirmPassword) {
        showResetMessage('Please confirm your password', 'error');
        return;
    }

    if (newPassword !== confirmPassword) {
        showResetMessage('Passwords do not match', 'error');
        return;
    }
    
    if (newPassword.length < 6) {
        showResetMessage('Password must be at least 6 characters', 'error');
        return;
    }
    
    // Clear any previous messages
    messageDiv.style.display = 'none';
    
    // Proceed with password reset
    try {
        const submitBtn = e.target.querySelector('button');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Resetting...';
        
        const response = await fetch('/api/reset-password', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ 
                email: resetEmail, 
                code: document.getElementById('reset-verification-code').value,
                newPassword: newPassword
            })
        });
        
        const result = await response.json();
        
        if (response.ok) {
            showResetMessage('Password reset successfully! Redirecting to login...', 'success');
            
            // Clear form
            document.getElementById('new-password-reset').value = '';
            document.getElementById('confirm-password-reset').value = '';
            
            // Redirect to login after delay
            setTimeout(() => {
                closeForgotPasswordModal();
                document.getElementById('auth-modal').style.display = 'block';
                // Switch to login form
                document.getElementById('login-form-container').style.display = 'block';
                document.getElementById('register-form-container').style.display = 'none';
                // Pre-fill email
                document.getElementById('login-email').value = resetEmail;
            }, 2000);
        } else {
            throw new Error(result.error || 'Password reset failed');
        }
        
    } catch (error) {
        showResetMessage('Error: ' + error.message, 'error');
    } finally {
        const submitBtn = e.target.querySelector('button');
        submitBtn.disabled = false;
        submitBtn.textContent = 'Reset Password';
    }
});

// Helper function to show reset messages
function showResetMessage(message, type = 'info') {
    const messageDiv = document.getElementById('reset-message');
    messageDiv.textContent = message;
    messageDiv.style.display = 'block';
    messageDiv.style.padding = '12px';
    messageDiv.style.borderRadius = '8px';
    messageDiv.style.margin = '15px 0';
    messageDiv.style.textAlign = 'center';
    
    if (type === 'error') {
        messageDiv.style.backgroundColor = '#ffebee';
        messageDiv.style.color = '#c62828';
        messageDiv.style.border = '1px solid #ffcdd2';
    } else if (type === 'success') {
        messageDiv.style.backgroundColor = '#e8f5e8';
        messageDiv.style.color = '#2e7d32';
        messageDiv.style.border = '1px solid #c8e6c9';
    } else {
        messageDiv.style.backgroundColor = '#e3f2fd';
        messageDiv.style.color = '#1565c0';
        messageDiv.style.border = '1px solid #bbdefb';
    }
}
            
        // Resend code function
        async function resendResetCode() {
            if (!resetEmail) return;
            
            try {
                showMessage('Resending code...', 'info');
                
                const response = await fetch('/api/forgot-password', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ email: resetEmail })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    showMessage('New verification code sent!', 'success');
                    startResendTimer();
                    resetCodeInputs();
                    document.querySelector('.code-input[data-index="0"]').focus();
                } else {
                    throw new Error(result.error || 'Failed to resend code');
                }
            } catch (error) {
                showMessage('Error: ' + error.message, 'error');
            }
        }

        // Show login form from forgot password
        function showLoginForm() {
            document.getElementById('forgot-password-modal').style.display = 'none';
            document.getElementById('auth-modal').style.display = 'block';
        }

        // Make sure the forgot password link works
        document.addEventListener('DOMContentLoaded', function() {
            const forgotLink = document.getElementById('forgot-password');
            if (forgotLink) {
                forgotLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    showForgotPasswordModal();
                });
            }
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === document.getElementById('forgot-password-modal')) {
                    closeForgotPasswordModal();
                }
            });
        });
// ==================== REST OF YOUR EXISTING CODE ====================
// Email Verification Functions
let pendingVerificationEmail = '';

function showVerificationModal(email) {
    pendingVerificationEmail = email;
    document.getElementById('verification-email').textContent = email;
    document.getElementById('verification-modal').style.display = 'block';
    document.getElementById('verification-code').focus();
    
    // Auto-resend code when modal opens
    resendVerificationCode(email);
}

function closeVerificationModal() {
    document.getElementById('verification-modal').style.display = 'none';
    document.getElementById('verification-form').reset();
    document.getElementById('verification-error').textContent = '';
}

async function resendVerificationCode(email) {
    const targetEmail = email || pendingVerificationEmail;
    if (!targetEmail) return;
    
    try {
        showNotification('Sending new verification code...', 'info');
        
        const response = await fetch(`${API_BASE_URL}/api/resend-verification`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email: targetEmail })
        });
        
        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.error || 'Failed to resend code');
        }
        
        showNotification('New verification code sent to your email and phone!', 'success');
    } catch (error) {
        showNotification('Error resending code: ' + error.message, 'error');
    }
}

// DOM Elements for authentication
const loginBtn = document.getElementById('login-btn');
const registerBtn = document.getElementById('register-btn');
const accountBtn = document.getElementById('account-btn');
const logoutBtn = document.getElementById('logout-btn');
const authModal = document.getElementById('auth-modal');
const closeBtn = document.querySelector('.close');
const showRegister = document.getElementById('show-register');
const showLogin = document.getElementById('show-login');
const loginForm = document.getElementById('login-form');
const registerForm = document.getElementById('register-form');
const loginError = document.getElementById('login-error');
const registerError = document.getElementById('register-error');
const loginContainer = document.getElementById('login-form-container');
const registerContainer = document.getElementById('register-form-container');

// Account Section Elements
const accountSection = document.getElementById('account');
const accountTabs = document.querySelectorAll('.account-tab');
const accountTabContents = document.querySelectorAll('.account-tab-content');

        // Theme Toggle Functionality
        const themeToggle = document.getElementById('theme-toggle');
        const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
        const themeIcon = themeToggle ? themeToggle.querySelector('i') : null;
        const mobileThemeIcon = mobileThemeToggle ? mobileThemeToggle.querySelector('i') : null;

        // Initialize theme
        const initTheme = () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            if (savedTheme === 'dark') {
                if (themeIcon) themeIcon.className = 'fas fa-sun';
                if (mobileThemeIcon) mobileThemeIcon.className = 'fas fa-sun';
            } else {
                if (themeIcon) themeIcon.className = 'fas fa-moon';
                if (mobileThemeIcon) mobileThemeIcon.className = 'fas fa-moon';
            }
        };

        // Toggle theme function
        const toggleTheme = () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            if (newTheme === 'dark') {
                if (themeIcon) themeIcon.className = 'fas fa-sun';
                if (mobileThemeIcon) mobileThemeIcon.className = 'fas fa-sun';
            } else {
                if (themeIcon) themeIcon.className = 'fas fa-moon';
                if (mobileThemeIcon) mobileThemeIcon.className = 'fas fa-moon';
            }
        };

        // Initialize theme on page load
        initTheme();

        // Add event listeners to theme toggle buttons
        if (themeToggle) {
            themeToggle.addEventListener('click', toggleTheme);
        }
        if (mobileThemeToggle) {
            mobileThemeToggle.addEventListener('click', toggleTheme);
        }

        // Current user state
        let currentUser = null;

        // Check if user is logged in from localStorage
        function checkAuthState() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateAuthUI();
            }
        }

        // Update UI based on authentication state
        function updateAuthUI() {
            if (currentUser) {
                // User is signed in
                loginBtn.style.display = 'none';
                registerBtn.style.display = 'none';
                accountBtn.style.display = 'block';
                logoutBtn.style.display = 'block';
                
                // Update account button text
                const accountBtnText = document.querySelector('.account-btn span');
                if (accountBtnText) {
                    accountBtnText.textContent = currentUser.firstName || currentUser.first_name || currentUser.email;
                }

                // Update mobile buttons
                document.getElementById('mobile-login-btn').style.display = 'none';
                document.getElementById('mobile-register-btn').style.display = 'none';
                document.getElementById('mobile-account-btn').style.display = 'block';
                document.getElementById('mobile-logout-btn').style.display = 'block';

                // Load user profile data
                loadUserProfile();
                loadUserOrders();
            } else {
                // User is signed out
                loginBtn.style.display = 'block';
                registerBtn.style.display = 'block';
                accountBtn.style.display = 'none';
                logoutBtn.style.display = 'none';
                
                // Reset account button text
                const accountBtnText = document.querySelector('.account-btn span');
                if (accountBtnText) {
                    accountBtnText.textContent = 'Account';
                }

                // Update mobile buttons
                document.getElementById('mobile-login-btn').style.display = 'block';
                document.getElementById('mobile-register-btn').style.display = 'block';
                document.getElementById('mobile-account-btn').style.display = 'none';
                document.getElementById('mobile-logout-btn').style.display = 'none';
            }
        }

        // Load user profile data - FIXED VERSION
        async function loadUserProfile() {
            if (!currentUser) return;

            try {
                const response = await fetch(`/api/user/profile?userId=${currentUser.id}`);
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.error || 'Failed to load profile');
                }

                const user = data.user;
                
                // Update profile display with safe property access
                const firstName = user.firstName || user.first_name || '';
                const lastName = user.lastName || user.last_name || '';
                const fullName = `${firstName} ${lastName}`.trim() || 'User';
                
                document.getElementById('user-fullname').textContent = fullName;
                document.getElementById('user-email').textContent = user.email || 'Not provided';
                document.getElementById('user-phone').textContent = user.phone || 'Not provided';
                
                //  FIXED: Safe avatar initialization with proper fallbacks
                const avatar = document.getElementById('user-avatar');
                if (avatar) {
                    let initials = 'U'; // Default
                    
                    // Safe character access with proper fallbacks
                    if (firstName && lastName) {
                        const firstChar = firstName.charAt(0) || '';
                        const lastChar = lastName.charAt(0) || '';
                        initials = `${firstChar}${lastChar}`.toUpperCase();
                    } else if (firstName) {
                        initials = firstName.charAt(0).toUpperCase() || 'U';
                    } else if (user.email) {
                        initials = user.email.charAt(0).toUpperCase() || 'U';
                    }
                    
                    // Ensure initials are not empty
                    if (!initials || initials === '') {
                        initials = 'U';
                    }
                    
                    avatar.innerHTML = initials;
                    avatar.style.backgroundColor = getRandomColor();
                }
                
                // Update verification status
                const verificationBadge = document.getElementById('verification-status');
                const isVerified = user.emailVerified || user.email_verified;
                
                if (isVerified) {
                    verificationBadge.innerHTML = '<i class="fas fa-check-circle"></i> Email Verified';
                    verificationBadge.style.background = 'var(--success-color)';
                    verificationBadge.style.color = 'white';
                } else {
                    verificationBadge.innerHTML = '<i class="fas fa-exclamation-circle"></i> Email Not Verified';
                    verificationBadge.style.background = 'var(--warning-color)';
                    verificationBadge.style.color = '#000';
                }
                
                // Update profile form with safe property access
                document.getElementById('profile-firstname').textContent = firstName || 'Not set';
                document.getElementById('profile-lastname').textContent = lastName || 'Not set';
                document.getElementById('profile-phone').textContent = user.phone || 'Not provided';
                
                document.getElementById('edit-firstname').value = firstName || '';
                document.getElementById('edit-lastname').value = lastName || '';
                document.getElementById('edit-phone').value = user.phone || '';
                
                // Update account statistics
                document.getElementById('member-since').textContent = user.createdAt || user.created_at ? 
                    new Date(user.createdAt || user.created_at).toLocaleDateString() : 'Unknown';
                document.getElementById('last-login').textContent = user.lastLogin || user.last_login ? 
                    new Date(user.lastLogin || user.last_login).toLocaleDateString() : 'Never';
                
            } catch (error) {
                console.error('Error loading user profile:', error);
                showNotification('Error loading profile: ' + error.message, 'error');
            }
        }

        // Load user orders
        async function loadUserOrders() {
            if (!currentUser) return;

            try {
                const response = await fetch(`/api/user/orders?userId=${currentUser.id}`);
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.error || 'Failed to load orders');
                }

                const orders = data.orders || [];
                const ordersList = document.getElementById('orders-list');
                
                // Update total orders count
                document.getElementById('total-orders-count').textContent = orders.length;
                
                if (orders.length === 0) {
                    ordersList.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: var(--text-light);">
                            <i class="fas fa-shopping-cart" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
                            <h3>No orders yet</h3>
                            <p>You haven't placed any orders yet.</p>
                            <a href="#products" class="btn" style="margin-top: 20px;">Start Shopping</a>
                        </div>
                    `;
                    return;
                }

                let ordersHtml = '';
                orders.forEach(order => {
                    const orderDate = new Date(order.created_at).toLocaleDateString();
                    const totalAmount = parseFloat(order.total_amount).toLocaleString();
                    const statusClass = `status-${order.status}`;
                    
                    ordersHtml += `
                        <div class="order-item">
                            <div class="order-header">
                                <div>
                                    <h4>Order #${order.id}</h4>
                                    <small>Placed on ${orderDate}</small>
                                </div>
                                <span class="order-status ${statusClass}">${order.status}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <p><strong>Total:</strong> KSh ${totalAmount}</p>
                                    <p><strong>Payment:</strong> ${order.payment_method}</p>
                                    ${order.delivery_address ? `<p><strong>Delivery:</strong> ${order.delivery_address}</p>` : ''}
                                </div>
                                <div>
                                    <button class="btn" onclick="viewOrderDetails(${order.id})">
                                        <i class="fas fa-eye"></i> View Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                ordersList.innerHTML = ordersHtml;
                
            } catch (error) {
                console.error('Error loading user orders:', error);
                document.getElementById('orders-list').innerHTML = `
                    <div class="error" style="text-align: center; padding: 20px;">
                        Error loading orders: ${error.message}
                    </div>
                `;
            }
        }

        // View order details
        function viewOrderDetails(orderId) {
            // This would typically open a modal with order details
            showNotification(`Order #${orderId} details would show here`, 'info');
        }

        // Account tab functionality
        accountTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                accountTabs.forEach(t => t.classList.remove('active'));
                accountTabContents.forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });

        // Profile form submission
        document.getElementById('profile-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!currentUser) return;

            const formData = {
                userId: currentUser.id,
                firstName: document.getElementById('edit-firstname').value,
                lastName: document.getElementById('edit-lastname').value,
                phone: document.getElementById('edit-phone').value
            };

            try {
                const response = await fetch('/api/user/profile', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();

                if (!response.ok) {
                    throw new Error(result.error || 'Failed to update profile');
                }

                // Update current user data
                currentUser.firstName = formData.firstName;
                currentUser.lastName = formData.lastName;
                currentUser.phone = formData.phone;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // Update UI
                updateAuthUI();
                showNotification('Profile updated successfully!', 'success');
                
            } catch (error) {
                showNotification('Error updating profile: ' + error.message, 'error');
            }
        });

        // Change password form
        document.getElementById('change-password-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!currentUser) return;

            const currentPassword = document.getElementById('current-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-new-password').value;

            if (newPassword !== confirmPassword) {
                showNotification('New passwords do not match!', 'error');
                return;
            }

            try {
                const response = await fetch('/api/user/change-password', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        userId: currentUser.id,
                        currentPassword: currentPassword,
                        newPassword: newPassword
                    })
                });

                const result = await response.json();

                if (!response.ok) {
                    throw new Error(result.error || 'Failed to change password');
                }

                // Clear form
                document.getElementById('change-password-form').reset();
                showNotification('Password changed successfully!', 'success');
                
            } catch (error) {
                showNotification('Error changing password: ' + error.message, 'error');
            }
        });

        // Save settings
        async function saveSettings() {
            const settings = {
                emailNotifications: document.getElementById('email-notifications').checked,
                smsNotifications: document.getElementById('sms-notifications').checked,
                language: document.getElementById('language-select').value,
                currency: document.getElementById('currency-select').value
            };

            // Save to localStorage (in a real app, this would go to the server)
            localStorage.setItem('userSettings', JSON.stringify(settings));
            showNotification('Settings saved successfully!', 'success');
        }

        // Load settings
        function loadSettings() {
            const savedSettings = localStorage.getItem('userSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                document.getElementById('email-notifications').checked = settings.emailNotifications;
                document.getElementById('sms-notifications').checked = settings.smsNotifications;
                document.getElementById('language-select').value = settings.language;
                document.getElementById('currency-select').value = settings.currency;
            }
        }

        // Reset profile form
        function resetProfileForm() {
            if (currentUser) {
                document.getElementById('edit-firstname').value = currentUser.firstName || currentUser.first_name || '';
                document.getElementById('edit-lastname').value = currentUser.lastName || currentUser.last_name || '';
                document.getElementById('edit-phone').value = currentUser.phone || '';
            }
        }

        // Show delete account modal
        function showDeleteAccountModal() {
            document.getElementById('delete-account-modal').style.display = 'block';
            if (currentUser) {
                document.getElementById('confirm-delete-email').placeholder = currentUser.email;
            }
        }

        // Close delete account modal
        function closeDeleteAccountModal() {
            document.getElementById('delete-account-modal').style.display = 'none';
            document.getElementById('confirm-delete-email').value = '';
            document.getElementById('confirm-delete-password').value = '';
        }

        // Delete account
        async function deleteAccount() {
            if (!currentUser) return;

            const email = document.getElementById('confirm-delete-email').value;
            const password = document.getElementById('confirm-delete-password').value;

            if (email !== currentUser.email) {
                showNotification('Email does not match your account email!', 'error');
                return;
            }

            if (!password) {
                showNotification('Please enter your password!', 'error');
                return;
            }

            // In a real application, you would send a request to the server to delete the account
            // For now, we'll simulate this with a confirmation
            
            const confirmDelete = confirm('Are you absolutely sure you want to delete your account? This action cannot be undone!');
            
            if (confirmDelete) {
                try {
                    // Simulate API call - replace with actual API endpoint
                    showNotification('Account deletion feature would be implemented with server-side API', 'info');
                    
                    // For demo purposes, we'll just log out the user
                    setTimeout(() => {
                        currentUser = null;
                        localStorage.removeItem('currentUser');
                        updateAuthUI();
                        closeDeleteAccountModal();
                        hideAccountSection();
                        showNotification('Account deletion requested. You have been logged out.', 'info');
                    }, 2000);
                    
                } catch (error) {
                    showNotification('Error deleting account: ' + error.message, 'error');
                }
            }
        }

        // Show account section
        function showAccountSection() {
            // Hide all other sections
            document.querySelectorAll('section').forEach(section => {
                if (section.id !== 'account') {
                    section.style.display = 'none';
                }
            });
            
            // Show account section
            accountSection.style.display = 'block';
            
            // Load user data
            loadUserProfile();
            loadUserOrders();
            loadSettings();
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Hide account section
        function hideAccountSection() {
            accountSection.style.display = 'none';
            
            // Show all other sections
            document.querySelectorAll('section').forEach(section => {
                if (section.id !== 'account') {
                    section.style.display = 'block';
                }
            });
        }

        // Utility function to generate random color for avatar
        function getRandomColor() {
            const colors = [
                '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7',
                '#DDA0DD', '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E9'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // Registration function
        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const firstName = document.getElementById('register-firstName').value;
            const lastName = document.getElementById('register-lastName').value;
            const phone = document.getElementById('register-phone').value;
            
            // Clear previous errors
            registerError.textContent = "";
            
            // Client-side validation
            if (password !== confirmPassword) {
                registerError.textContent = "Passwords don't match";
                registerError.style.color = "red";
                return;
            }
            
            if (password.length < 6) {
                registerError.textContent = "Password must be at least 6 characters";
                registerError.style.color = "red";
                return;
            }

            registerError.textContent = "Creating account...";
            registerError.style.color = "blue";

            try {
                const response = await fetch('/api/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email,
                        password,
                        firstName,
                        lastName,
                        phone
                    })
                });
const result = await response.json();

if (!response.ok) {
    // Check if it's an unverified account that needs verification
    if (result.error && result.error.includes('not verified')) {
        // Auto-show verification modal
        showVerificationModal(email);
        return;
    }
    throw new Error(result.error || 'Registration failed');
}

registerError.textContent = "Account created successfully! Please check your email for verification code.";
registerError.style.color = "green";

//  SHOW VERIFICATION MODAL instead
showVerificationModal(email);
            } catch (error) {
                registerError.textContent = error.message;
                registerError.style.color = "red";
            }
        });

// Login function - DEBUG VERSION
loginForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;
    
    console.log(' Login attempt:', email);
    
    // Clear previous errors
    loginError.textContent = "";

    try {
        const response = await fetch(`${API_BASE_URL}/api/login`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                email,
                password
            })
        });

        const result = await response.json();
        
        console.log(' Server response:', {
            status: response.status,
            ok: response.ok,
            error: result.error,
            success: result.success,
            fullResult: result
        });

        if (!response.ok) {
            console.log(' Login failed - checking error type');
            // Check if it's an unverified email error
            if (result.error && result.error.includes('not verified')) {
                console.log(' Unverified user detected - showing verification modal');
                showVerificationModal(email);
                return;
            }
            console.log(' Other error:', result.error);
            throw new Error(result.error || 'Login failed');
        }

        console.log(' Login successful - user is verified');
        // Login successful - user is verified
        currentUser = result.user;
        localStorage.setItem('currentUser', JSON.stringify(currentUser));
        
        // Update UI
        updateAuthUI();
        
        // Close modal
        authModal.style.display = 'none';
        
        // Show success message
        const userName = currentUser.firstName || currentUser.first_name || 'User';
        showNotification(` Login successful! Welcome back ${userName}`);
        
    } catch (error) {
        console.log(' Login error caught:', error);
        loginError.textContent = error.message;
        loginError.style.color = "red";
    }
});

        // Logout function
        logoutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateAuthUI();
            authModal.style.display = 'none';
            hideAccountSection();
            showNotification('You have been logged out successfully');
        });


        
        // Mobile logout function
        document.getElementById('mobile-logout-btn').addEventListener('click', (e) => {
            e.preventDefault();
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateAuthUI();
            document.querySelector('.mobile-account .dropdown-content').classList.remove('show');
            hideAccountSection();
            showNotification('You have been logged out successfully');
        });

        // Account button click - show account section
        accountBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showAccountSection();
        });

        // Mobile account button click
        document.getElementById('mobile-account-btn').addEventListener('click', (e) => {
            e.preventDefault();
            document.querySelector('.mobile-account .dropdown-content').classList.remove('show');
            showAccountSection();
        });

        // Form toggling
        showRegister.addEventListener('click', (e) => {
            e.preventDefault();
            loginContainer.style.display = 'none';
            registerContainer.style.display = 'block';
            registerError.textContent = "";
        });

        showLogin.addEventListener('click', (e) => {
            e.preventDefault();
            registerContainer.style.display = 'none';
            loginContainer.style.display = 'block';
            loginError.textContent = "";
        });

        // Modal functionality
        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            authModal.style.display = 'block';
            loginContainer.style.display = 'block';
            registerContainer.style.display = 'none';
            loginError.textContent = "";
            registerError.textContent = "";
        });

        registerBtn.addEventListener('click', (e) => {
            e.preventDefault();
            authModal.style.display = 'block';
            loginContainer.style.display = 'none';
            registerContainer.style.display = 'block';
            loginError.textContent = "";
            registerError.textContent = "";
        });

        // Mobile login/register functionality
        document.getElementById('mobile-login-btn').addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector('.mobile-account .dropdown-content').classList.remove('show');
            authModal.style.display = 'block';
            loginContainer.style.display = 'block';
            registerContainer.style.display = 'none';
            loginError.textContent = "";
            registerError.textContent = "";
        });

        document.getElementById('mobile-register-btn').addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector('.mobile-account .dropdown-content').classList.remove('show');
            authModal.style.display = 'block';
            loginContainer.style.display = 'none';
            registerContainer.style.display = 'block';
            loginError.textContent = "";
            registerError.textContent = "";
        });

        closeBtn.addEventListener('click', () => {
            authModal.style.display = "none";
        });

        window.addEventListener('click', (e) => {
            if (e.target === authModal) {
                authModal.style.display = "none";
            }
            if (e.target === document.getElementById('delete-account-modal')) {
                closeDeleteAccountModal();
            }
        });

        // Mobile Account Dropdown Toggle
        const mobileAccountBtn = document.querySelector('.mobile-account .account-btn');
        const mobileDropdown = document.querySelector('.mobile-account .dropdown-content');

        if (mobileAccountBtn && mobileDropdown) {
            // Toggle dropdown when account button is clicked
            mobileAccountBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                mobileDropdown.classList.toggle('show');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                mobileDropdown.classList.remove('show');
            });
            
            // Keep dropdown open when clicking inside it
            mobileDropdown.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }

        // Cart functionality
        let cart = [];
        const cartCount = document.getElementById('cart-count');
        const mobileCartCount = document.getElementById('mobile-cart-count');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const cartModal = document.getElementById('cart-modal');
        const cartButton = document.getElementById('cart-button');
        const mobileCartButton = document.getElementById('mobile-cart-button');
        const closeCart = document.getElementById('close-cart');
        const checkoutBtn = document.getElementById('checkout-btn');
        const paymentProcessing = document.getElementById('payment-processing');

        // Add to cart
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
                const id = button.getAttribute('data-id');
                const name = button.getAttribute('data-name');
                const price = parseInt(button.getAttribute('data-price'));
                
                const existingItem = cart.find(item => item.id === id);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ id, name, price, quantity: 1 });
                }
                
                updateCart();
                showNotification(`${name} added to cart!`);
            });
        });

        // Update cart UI
        function updateCart() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            mobileCartCount.textContent = totalItems;
            
            cartItems.innerHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                total += item.price * item.quantity;
                
                const itemElement = document.createElement('div');
                itemElement.style.display = 'flex';
                itemElement.style.justifyContent = 'space-between';
                itemElement.style.marginBottom = '15px';
                itemElement.style.paddingBottom = '15px';
                itemElement.style.borderBottom = '1px solid var(--border-color)';
                
                itemElement.innerHTML = `
                    <div style="flex: 1;">
                        <h4 style="margin: 0 0 5px; font-size: 1rem;">${item.name}</h4>
                        <div style="display: flex; align-items: center; margin-top: 10px;">
                            <button class="decrease-quantity" data-id="${item.id}" style="background: var(--light-color); border: 1px solid var(--border-color); width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-weight: bold;">-</button>
                            <span style="margin: 0 15px; font-weight: bold;">${item.quantity}</span>
                            <button class="increase-quantity" data-id="${item.id}" style="background: var(--light-color); border: 1px solid var(--border-color); width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-weight: bold;">+</button>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: var(--text-light); font-size: 0.9rem;">KSh ${item.price.toLocaleString()}</div>
                        <div style="font-weight: bold; color: var(--primary-color);">KSh ${(item.price * item.quantity).toLocaleString()}</div>
                        <button class="remove-item" data-id="${item.id}" style="background: none; border: none; color: #ff4444; cursor: pointer; font-size: 0.8rem; margin-top: 8px;">Remove</button>
                    </div>
                `;
                
                cartItems.appendChild(itemElement);
            });
            
            cartTotal.textContent = `KSh ${total.toLocaleString()}`;
            
            // Add event listeners to new buttons
            document.querySelectorAll('.decrease-quantity').forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.getAttribute('data-id');
                    const item = cart.find(item => item.id === id);
                    
                    if (item.quantity > 1) {
                        item.quantity -= 1;
                    } else {
                        cart = cart.filter(item => item.id !== id);
                    }
                    
                    updateCart();
                });
            });
            
            document.querySelectorAll('.increase-quantity').forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.getAttribute('data-id');
                    const item = cart.find(item => item.id === id);
                    item.quantity += 1;
                    updateCart();
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', () => {
                    const id = button.getAttribute('data-id');
                    cart = cart.filter(item => item.id !== id);
                    updateCart();
                });
            });
        }

        // Payment Method Toggle
        document.querySelectorAll('input[name="payment"]').forEach(radio => {
            radio.addEventListener('change', function() {
                document.getElementById('mpesa-form').style.display = 
                    this.value === 'mpesa' ? 'block' : 'none';
                document.getElementById('cod-form').style.display = 
                    this.value === 'cod' ? 'block' : 'none';
            });
        });

        // Checkout Process
        checkoutBtn.addEventListener('click', async () => {
            if (cart.length === 0) {
                showNotification('Your cart is empty!', 'error');
                return;
            }

            const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
        
if (paymentMethod === 'mpesa') {
    const phoneNumber = document.getElementById('mpesa-phone').value;
    
    if (!phoneNumber || !phoneNumber.match(/^(?:254|\+254|0)?(7\d{8})$/)) {
        showNotification('Please enter a valid M-Pesa number (e.g. 254712345678)', 'error');
        return;
    }

    const formattedPhone = phoneNumber.replace(/^(?:254|\+254|0)?(7\d{8})$/, '254$1');
    
    // Show processing modal
    paymentProcessing.style.display = 'flex';
    document.getElementById('payment-status').innerHTML = `
        <p style="color: var(--text-color); font-size: 1.1rem;">Sending payment request to your phone...</p>
        <p style="font-size: 0.95rem; color: var(--text-light); margin-top: 10px;">
            Check your phone <strong>${formattedPhone}</strong> for M-Pesa PIN prompt
        </p>
    `;
    
    try {
        // 1. Save order first
        const orderResponse = await fetch('http://localhost:3000/api/orders', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                userId: currentUser ? currentUser.id : null,
                items: cart,
                total: totalAmount,
                paymentMethod: 'mpesa',
                deliveryAddress: null,
                mpesaPhone: formattedPhone,
                status: 'pending'
            })
        });
        
        const orderResult = await orderResponse.json();
        if (!orderResponse.ok) {
            throw new Error('Failed to save order');
        }

        // 2. Send STK Push to customer's phone
        const stkResponse = await fetch('http://localhost:3000/api/mpesa/stk-push', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                phone: formattedPhone,
                amount: totalAmount,
                orderId: orderResult.order.id,
                accountReference: 'SIBO-LIFE'
            })
        });

        const stkResult = await stkResponse.json();

        if (!stkResult.success) {
            throw new Error(stkResult.error || 'Failed to send payment request');
        }

        // Show success message
        document.getElementById('payment-status').innerHTML = `
            <div style="text-align: center;">
                <p style="color: var(--primary-color); font-size: 1.2rem; font-weight: bold;">
                    <i class="fas fa-check-circle"></i> Payment request sent!
                </p>
                <p style="font-size: 0.95rem; color: var(--text-light); margin: 15px 0;">
                    Check your phone <strong>${formattedPhone}</strong><br>
                    Enter your M-Pesa PIN when prompted
                </p>
                <div style="background: #e8f4fd; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <p style="margin: 0; color: #333; font-size: 0.9rem;">
                        <i class="fas fa-info-circle"></i> 
                        Amount: <strong>KSh ${totalAmount.toLocaleString()}</strong><br>
                        Paybill: <strong>174379</strong><br>
                        Account: <strong>SIBO-LIFE</strong>
                    </p>
                </div>
            </div>
        `;

        // 3. Start polling for payment status
        const checkoutRequestId = stkResult.checkoutRequestId;
        let paymentVerified = false;
        let attempts = 0;
        const maxAttempts = 30;

        const checkPaymentStatus = async () => {
            attempts++;
            
            try {
                const statusResponse = await fetch(`http://localhost:3000/api/mpesa/check-payment/${checkoutRequestId}`);
                const statusResult = await statusResponse.json();

                if (statusResult.success && statusResult.status === 'completed') {
                    paymentVerified = true;
                    document.getElementById('payment-status').innerHTML = `
                        <div style="text-align: center;">
                            <p style="color: #4CAF50; font-weight: bold; font-size: 1.4rem;">
                                 Payment Successful!
                            </p>
                            <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 15px 0;">
                                <p style="margin: 5px 0; color: #2e7d32;">
                                    <strong>Receipt:</strong> ${statusResult.mpesaReceipt}
                                </p>
                                <p style="margin: 5px 0; color: #2e7d32;">
                                    <strong>Amount:</strong> KSh ${statusResult.amount}
                                </p>
                                <p style="margin: 5px 0; color: #2e7d32;">
                                    <strong>Phone:</strong> ${statusResult.phone}
                                </p>
                            </div>
                            <p style="color: var(--text-color);">Thank you for your purchase!</p>
                        </div>
                    `;
                    
                    setTimeout(() => {
                        cart = [];
                        updateCart();
                        paymentProcessing.style.display = 'none';
                        cartModal.style.display = 'none';
                        showNotification('Payment completed successfully! Order confirmed.');
                    }, 3000);
                    return;
                    
                } else if (statusResult.success === false) {
                    document.getElementById('payment-status').innerHTML = `
                        <div style="text-align: center;">
                            <p style="color: #f44336; font-weight: bold; font-size: 1.2rem;">
                                 Payment Failed
                            </p>
                            <p style="color: var(--text-color);">
                                ${statusResult.errorMessage || 'Payment was not completed'}
                            </p>
                            <button onclick="location.reload()" class="btn" style="margin-top: 15px;">
                                Try Again
                            </button>
                        </div>
                    `;
                    return;
                }

                if (!paymentVerified && attempts < maxAttempts) {
                    document.getElementById('payment-status').innerHTML = `
                        <p style="color: var(--text-color); font-size: 1.1rem;">
                            Waiting for payment... (${attempts}/${maxAttempts})
                        </p>
                        <p style="font-size: 0.95rem; color: var(--text-light); margin-top: 10px;">
                            Please enter your PIN on your phone<br>
                            <small>Polling every 5 seconds...</small>
                        </p>
                    `;
                    setTimeout(checkPaymentStatus, 5000);
                } else if (attempts >= maxAttempts) {
                    document.getElementById('payment-status').innerHTML = `
                        <div style="text-align: center;">
                            <p style="color: #ff9800; font-weight: bold; font-size: 1.2rem;">
                                 Payment Timeout
                            </p>
                            <p style="color: var(--text-color);">
                                Please check your phone and try again
                            </p>
                        </div>
                    `;
                }

            } catch (error) {
                console.error('Payment status check error:', error);
                if (attempts < maxAttempts) {
                    setTimeout(checkPaymentStatus, 5000);
                }
            }
        };

        setTimeout(checkPaymentStatus, 5000);

    } catch (error) {
        paymentProcessing.style.display = 'none';
        showNotification('Error: ' + error.message, 'error');
    }
}

            else if (paymentMethod === 'cod') {
                const deliveryAddress = document.getElementById('delivery-address').value;
                
                if (!deliveryAddress || deliveryAddress.trim().length < 10) {
                    showNotification('Please enter a valid delivery address with at least 10 characters', 'error');
                    return;
                }
                
                // Show processing modal
                paymentProcessing.style.display = 'flex';
                document.getElementById('payment-status').innerHTML = `
                    <p style="color: var(--text-color); font-size: 1.1rem;">Processing your order...</p>
                    <p style="font-size: 0.95rem; color: var(--text-light); margin-top: 10px;">You'll pay KSh ${totalAmount.toLocaleString()} on delivery</p>
                `;
                
                // Save order to database
                try {
                    const response = await fetch('http://localhost:3000/api/orders', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            userId: currentUser ? currentUser.id : null,
                            items: cart,
                            total: totalAmount,
                            paymentMethod: 'cod',
                            deliveryAddress: deliveryAddress
                        })
                    });

                    if (!response.ok) {
                        throw new Error('Failed to save order');
                    }

                    // Simulate order processing
                    setTimeout(() => {
                        document.getElementById('payment-status').innerHTML = `
                            <div style="text-align: center;">
                                <p style="color: #4CAF50; font-weight: bold; font-size: 1.2rem;">Order Confirmed!</p>
                                <p style="font-size: 0.95rem; color: var(--text-light); margin: 15px 0;">Delivery to: ${deliveryAddress}</p>
                                <p style="color: var(--text-color);">Our delivery agent will contact you soon</p>
                            </div>
                        `;
                        
                        // Clear cart after 3 seconds
                        setTimeout(() => {
                            cart = [];
                            updateCart();
                            paymentProcessing.style.display = 'none';
                            cartModal.style.display = 'none';
                            showNotification('Order placed successfully!');
                        }, 3000);
                    }, 3000);
                } catch (error) {
                    paymentProcessing.style.display = 'none';
                    showNotification('Error processing order: ' + error.message, 'error');
                }
            }
        });

        // Helper functions
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.style.backgroundColor = type === 'error' ? '#ff4444' : 
                                               type === 'warning' ? '#ff9800' : 
                                               type === 'info' ? '#2196F3' : '#4CAF50';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Event listeners
        // ============ CART EVENT LISTENERS ============
function attachCartListeners() {
    // Attach event listeners to all "Add to Cart" buttons
    document.querySelectorAll('.add-to-cart').forEach(button => {
        // Remove any existing listeners first
        button.replaceWith(button.cloneNode(true));
    });
    
    // Reattach listeners
    document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', function() {
            const id = this.getAttribute('data-id');
            const name = this.getAttribute('data-name');
            const price = parseInt(this.getAttribute('data-price'));
            
            // Find existing item in cart
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ id, name, price, quantity: 1 });
            }
            
            updateCart();
            showNotification(`${name} added to cart!`);
        });
    });
}

// Also update your loadProductsFromDatabase function to use this:
async function loadProductsFromDatabase() {
    try {
        console.log(' Loading products from database...');
        
        const response = await fetch('/api/products');
        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.error || 'Failed to load products');
        }
        
        const productsContainer = document.getElementById('products-container');
        
        if (!result.products || result.products.length === 0) {
            productsContainer.innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--text-light);">
                    <i class="fas fa-box-open" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
                    <h3>No products available</h3>
                    <p>Check back soon for our medical supplies!</p>
                </div>
            `;
            return;
        }
        
        // Clear loading message
        productsContainer.innerHTML = '';
        
        // Display products
        result.products.forEach(product => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            productCard.innerHTML = `
                <div class="product-img">
                    <img src="${product.image_url || 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'}" 
                         loading="lazy" alt="${product.name}">
                </div>
                <div class="product-info">
                    <h3 class="product-title">${product.name}</h3>
                    <p class="product-desc">${product.description || ''}</p>
                    <div class="product-footer">
                        <span class="product-price">KSh ${parseFloat(product.price).toLocaleString()}</span>
                        <button class="add-to-cart" 
                                data-id="${product.id}" 
                                data-name="${product.name}" 
                                data-price="${product.price}">
                            Add to Cart
                        </button>
                    </div>
                </div>
            `;
            productsContainer.appendChild(productCard);
        });
        
        //  FIXED: Use the new function
        attachCartListeners();
        
        console.log(` Loaded ${result.products.length} products from database`);
        
    } catch (error) {
        console.error(' Error loading products:', error);
        
        const productsContainer = document.getElementById('products-container');
        productsContainer.innerHTML = `
            <div style="text-align: center; padding: 40px; color: var(--danger-color);">
                <i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: 20px;"></i>
                <h3>Error loading products</h3>
                <p>${error.message}</p>
                <button onclick="loadProductsFromDatabase()" class="btn" style="margin-top: 20px;">
                    <i class="fas fa-redo"></i> Try Again
                </button>
            </div>
        `;
    }
}
        cartButton.addEventListener('click', () => {
            cartModal.style.display = 'flex';
        });

        mobileCartButton.addEventListener('click', (e) => {
            e.preventDefault();
            cartModal.style.display = 'flex';
        });

        closeCart.addEventListener('click', () => {
            cartModal.style.display = 'none';
        });

        document.getElementById('cancel-payment').addEventListener('click', () => {
            paymentProcessing.style.display = 'none';
        });

        cartModal.addEventListener('click', (e) => {
            if (e.target === cartModal) {
                cartModal.style.display = 'none';
            }
        });

        // Initialize authentication state on page load
        checkAuthState();

             // Email Verification Form
        document.getElementById('verification-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const code = document.getElementById('verification-code').value;
            const errorDiv = document.getElementById('verification-error');
            
            console.log(' Verification attempt:', { code, email: pendingVerificationEmail });
            
            if (!code || code.length !== 6) {
                errorDiv.textContent = 'Please enter a valid 6-digit code';
                return;
            }
            
            try {
                errorDiv.textContent = '';
                
                const response = await fetch(`${API_BASE_URL}/api/verify-email`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        email: pendingVerificationEmail, 
                        code: code  //  CHANGED to 'code'
                    })
                });
                
                const result = await response.json();
                
                console.log(' Verification response:', result);
                
                if (!response.ok) {
                    throw new Error(result.error || 'Verification failed');
                }
                
                showNotification('Email verified successfully! You can now login.', 'success');
                closeVerificationModal();
                
                // Auto-fill login form
                document.getElementById('login-email').value = pendingVerificationEmail;
                
            } catch (error) {
                console.error('Verification error:', error);
                errorDiv.textContent = error.message;
                showNotification('Verification failed: ' + error.message, 'error');
            }
        });   
          
        // ==================== CONTACT FORM HANDLER ====================
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
            const responseDiv = document.getElementById('formResponse');
            
            if (contactForm) {
                contactForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    console.log(' Contact form submit triggered');
                    
                    // Get form data
                    const formData = {
                        name: document.getElementById('name').value,
                        email: document.getElementById('email').value,
                        subject: document.getElementById('subject').value,
                        message: document.getElementById('message').value
                    };
                    
                    console.log(' Form data:', formData);
                    
                    const submitBtn = this.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    
                    // Show loading state
                    submitBtn.textContent = 'Sending...';
                    submitBtn.disabled = true;
                    responseDiv.innerHTML = '<div style="color: blue;">Sending your message...</div>';
                    
                    try {
                        console.log(' Sending to server...');
                        
                        const response = await fetch('http://localhost:3000/api/contact', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(formData)
                        });
                        
                        console.log(' Response status:', response.status);
                        
                        const result = await response.json();
                        console.log(' Server response:', result);
                        
                        if (result.success) {
                            responseDiv.innerHTML = `
                                <div style="color: green; background: #f0fff4; padding: 12px; border-radius: 8px; border: 1px solid #c6f6d5;">
                                     ${result.message}
                                </div>
                            `;
                            contactForm.reset();
                        } else {
                            responseDiv.innerHTML = `
                                <div style="color: red; background: #ffeaa7; padding: 12px; border-radius: 8px; border: 1px solid #fab1a0;">
                                     ${result.error || 'Failed to send message'}
                                </div>
                            `;
                        }
                    } catch (error) {
                        console.error(' Contact form error:', error);
                        responseDiv.innerHTML = `
                            <div style="color: red; background: #ffeaa7; padding: 12px; border-radius: 8px; border: 1px solid #fab1a0;">
                                 Network error: ${error.message}
                            </div>
                        `;
                    } finally {
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                    }
                });
            }
        });
        // ============ LOAD PRODUCTS FROM DATABASE ============
async function loadProductsFromDatabase() {
    try {
        console.log(' Loading products from database...');
        
        const response = await fetch('/api/products');
        const result = await response.json();
        
        if (!response.ok) {
            throw new Error(result.error || 'Failed to load products');
        }
        
        const productsContainer = document.getElementById('products-container');
        
        if (!result.products || result.products.length === 0) {
            productsContainer.innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--text-light);">
                    <i class="fas fa-box-open" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
                    <h3>No products available</h3>
                    <p>Check back soon for our medical supplies!</p>
                </div>
            `;
            return;
        }
        
        // Clear loading message
        productsContainer.innerHTML = '';
        
        // Display products
        result.products.forEach(product => {
            const productCard = document.createElement('div');
            productCard.className = 'product-card';
            productCard.innerHTML = `
                <div class="product-img">
                    <img src="${product.image_url || 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'}" 
                         loading="lazy" alt="${product.name}">
                </div>
                <div class="product-info">
                    <h3 class="product-title">${product.name}</h3>
                    <p class="product-desc">${product.description || ''}</p>
                    <div class="product-footer">
                        <span class="product-price">KSh ${parseFloat(product.price).toLocaleString()}</span>
                        <button class="add-to-cart" 
                                data-id="${product.id}" 
                                data-name="${product.name}" 
                                data-price="${product.price}">
                            Add to Cart
                        </button>
                    </div>
                </div>
            `;
            productsContainer.appendChild(productCard);
        });
        
        // Reattach cart event listeners
        attachCartListeners();
        
        console.log(` Loaded ${result.products.length} products from database`);
        
    } catch (error) {
        console.error(' Error loading products:', error);
        
        // Fallback: Show error message
        const productsContainer = document.getElementById('products-container');
        productsContainer.innerHTML = `
            <div style="text-align: center; padding: 40px; color: var(--danger-color);">
                <i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: 20px;"></i>
                <h3>Error loading products</h3>
                <p>${error.message}</p>
                <button onclick="loadProductsFromDatabase()" class="btn" style="margin-top: 20px;">
                    <i class="fas fa-redo"></i> Try Again
                </button>
            </div>
        `;
    }
}

// Call this when page loads
document.addEventListener('DOMContentLoaded', function() {
    loadProductsFromDatabase();
});
    </script>
</body>
</html>